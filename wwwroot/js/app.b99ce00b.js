(function(e){function t(t){for(var a,i,l=t[0],s=t[1],c=t[2],m=0,u=[];m<l.length;m++)i=l[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(u.length)u.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],a=!0,i=1;i<o.length;i++){var s=o[i];0!==r[s]&&(a=!1)}a&&(n.splice(t--,1),e=l(l.s=o[0]))}return e}var a={},r={app:0},n=[];function i(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"41c2f88f"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.e=function(e){var t=[],o=r[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,a){o=r[e]=[t,a]}));t.push(o[2]=a);var n,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=i(e);var c=new Error;n=function(t){s.onerror=s.onload=null,clearTimeout(m);var o=r[e];if(0!==o){if(o){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",c.name="ChunkLoadError",c.type=a,c.request=n,o[1](c)}r[e]=void 0}};var m=setTimeout((function(){n({type:"timeout",target:s})}),12e4);s.onerror=s.onload=n,document.head.appendChild(s)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(o,a,function(t){return e[t]}.bind(null,a));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var m=0;m<s.length;m++)t(s[m]);var d=c;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var a=o("85ec"),r=o.n(a);r.a},"035c":function(e,t,o){"use strict";var a=o("aa2b"),r=o.n(a);r.a},"1b9c":function(e,t,o){"use strict";(function(e){o("d3b7"),o("ac1f"),o("466d");var t=o("d4ec"),a=o("ade3"),r=function e(o){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(t["a"])(this,e),Object(a["a"])(this,"handlePaste",(function(e){var t,o,a,n=e.clipboardData;if(n&&(t=n.items,t)){o=t[0],a=n.types||[];for(var i=0;i<a.length;i++)if("Files"===a[i]){o=t[i];break}if(o&&"file"===o.kind&&o.type.match(/^image\//i)){e.preventDefault();var l=o.getAsFile(),s=r.config.addImageBlob;s&&"[object Function]"==={}.toString.call(s)?s(l,r.insertImg):r.toBase64(l)}}})),Object(a["a"])(this,"toBase64",(function(e){var t=new FileReader;t.onload=function(e){r.insertImg(e.target.result)},t.readAsDataURL(e)})),Object(a["a"])(this,"insertImg",(function(e){var t=(r.quill.getSelection()||{}).index||r.quill.getLength()-1;r.quill.insertEmbed(t,"image",e,"user"),setTimeout((function(){r.quill.setSelection(t+1)}),0)})),this.quill=o,this.config=n,o.root.addEventListener("paste",this.handlePaste,!1)};e&&e.register("modules/imagePaste",r)}).call(this,o("9339"))},"2de5":function(e,t,o){},4805:function(e,t,o){"use strict";var a=o("8ce0"),r=o.n(a);r.a},"56d7":function(e,t,o){"use strict";o.r(t);o("d3b7"),o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("el-container",{attrs:{id:"ct1"}},[o("el-header",{staticStyle:{"text-align":"center","font-size":"14px",position:"fixed",width:"100%","z-index":"99"},attrs:{id:"header"}},[o("el-row",{staticStyle:{width:"90%",margin:"0 auto"}},[o("el-col",{staticStyle:{"text-align":"left"},attrs:{span:20}},[e._v(" 丰收笔记 ")]),e.UserName?o("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[o("span",[o("router-link",{staticStyle:{color:"#ffffff"},attrs:{to:"/login"}},[e._v("登录")])],1),o("el-dropdown",{staticStyle:{"margin-left":"10px"},on:{command:e.handleCommand}},[o("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"userSet"}},[e._v("个人设置")]),o("el-dropdown-item",{attrs:{command:"exit"}},[e._v("退出")])],1)],1),o("span",[e._v(e._s(e.UserName))])],1):e._e()],1)],1),o("el-container",{staticStyle:{width:"88%",margin:"0 auto","padding-top":"60px"}},[e.UserName?o("el-aside",{attrs:{width:"140px"}},[o("div",{staticStyle:{"margin-top":"10px",border:"1px solid #eee",position:"fixed"}},[o("el-menu",{staticStyle:{"border-right":"0"},attrs:{"default-active":"1"}},[o("el-menu-item",{attrs:{index:"1"}},[o("i",{staticClass:"el-icon-menu"}),o("router-link",{attrs:{slot:"title",to:"/stockart"},slot:"title"},[e._v("我的笔记")])],1),o("el-menu-item",{attrs:{index:"2"}},[o("i",{staticClass:"el-icon-menu"}),o("router-link",{attrs:{to:"/company"}},[e._v("上市公司")])],1),o("el-menu-item",{attrs:{index:"3"}},[o("i",{staticClass:"el-icon-menu"}),o("router-link",{attrs:{to:"/positionanalysis"}},[e._v("持仓分析")])],1),o("el-menu-item",{attrs:{index:"4"}},[o("i",{staticClass:"el-icon-menu"}),o("router-link",{attrs:{to:"/tradelog"}},[e._v("交易日志")])],1)],1)],1)]):e._e(),o("el-main",{staticStyle:{"min-height":"768px"},attrs:{id:"main"}},[o("router-view")],1)],1),o("el-footer",{staticStyle:{"background-color":"#f9f9f9"}},[o("el-row",{staticStyle:{width:"100%",margin:"20px auto"}},[e._v(" Copyright 2019-2020 京ICP备20025685号-1 ")])],1)],1),o("el-backtop")],1)},n=[],i={name:"app",data:function(){return{fn:"app"}},created:function(){},mounted:function(){},updated:function(){},components:{},computed:{UserName:function(){return this.$store.state.UserInfo.UserName}},methods:{handleCommand:function(e){"userSet"==e&&this.$router.push("/userset"),"exit"==e&&(localStorage.removeItem("Authorization"),localStorage.removeItem("UserId"),localStorage.removeItem("UserName"),this.$store.state.UserInfo.UserName="",this.$message("已退出系统"),this.$router.push("/login"))}}},l=i,s=(o("034f"),o("2877")),c=Object(s["a"])(l,r,n,!1,null,null,null),m=c.exports,d=o("2f62");a["default"].use(d["a"]);var u=new d["a"].Store({state:{Authorization:localStorage.getItem("Authorization")?localStorage.getItem("Authorization"):"",UserInfo:{UserName:localStorage.getItem("UserName")?localStorage.getItem("UserName"):"",UserId:localStorage.getItem("UserId")?localStorage.getItem("UserId"):""}},mutations:{changeLogin:function(e,t){e.Authorization=t.Authorization,e.UserInfo=t.UserInfo,localStorage.setItem("Authorization",t.Authorization),localStorage.setItem("UserId",t.UserInfo.UserId),localStorage.setItem("UserName",t.UserInfo.UserName)}},actions:{},modules:{}}),p=o("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("img",{attrs:{alt:"Vue logo",src:o("cf05")}}),a("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},g=[],h=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hello"},[o("h1",[e._v(e._s(e.msg))]),e._m(0),o("h3",[e._v("Installed CLI Plugins")]),e._m(1),o("h3",[e._v("Essential Links")]),e._m(2),o("h3",[e._v("Ecosystem")]),e._m(3)])},w=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("p",[e._v(" For a guide and recipes on how to configure / customize this project,"),o("br"),e._v(" check out the "),o("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(". ")])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[o("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),o("li",[o("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[e._v("eslint")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[o("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),o("li",[o("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),o("li",[o("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),o("li",[o("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),o("li",[o("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[o("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),o("li",[o("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),o("li",[o("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),o("li",[o("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),o("li",[o("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],v={name:"HelloWorld",props:{msg:String}},y=v,b=(o("4805"),Object(s["a"])(y,h,w,!1,null,"b9167eee",null)),F=b.exports,D={name:"Home",components:{HelloWorld:F}},C=D,_=Object(s["a"])(C,f,g,!1,null,null,null),x=_.exports,k=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[o("el-form",{ref:"loginForm",staticClass:"login-box",attrs:{model:e.loginForm,rules:e.loginForm.rules,"label-width":"80px"}},[o("h3",{staticClass:"login-title"},[e._v("欢迎登录")]),o("el-form-item",{attrs:{label:"账号",prop:"username"}},[o("el-input",{attrs:{type:"text",placeholder:"请输入账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.login("loginForm")}}},[e._v("登录")])],1)],1)],1)},T=[],I=o("5530"),S={name:"login",data:function(){return{fn:"login",posturl:"/api/Authentication/requestToken1",loading:!1,loginForm:{username:"",password:"",rules:{username:[{required:!0,message:"账号不可为空",trigger:"blur"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}]}}}},created:function(){},mounted:function(){window.addEventListener("keydown",this.keyDown)},updated:function(){},components:{},computed:{},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)},methods:Object(I["a"])({},Object(d["b"])(["changeLogin"]),{login:function(e){var t=this;try{var o=!0;if(t.$refs[e].validate((function(e){e||(t.$message.warning("请输入用户名和密码!"),o=!1)})),!o)return;t.loading=!0;var a={username:t.loginForm.username,password:t.loginForm.password};t.$http.post(t.posturl,a).then((function(e){if("false"==e.data.Status)t.$message.error(e.data.ErrMsg);else{console.log(e.data);var o=e.data.ResultData,a="Bearer "+o.Token,r=o.UserId;t.changeLogin({Authorization:a,UserInfo:{UserId:r,UserName:t.loginForm.username}}),t.$message.success("登录成功!"),t.$router.push({path:"/stockart"})}t.loading=!1})).catch((function(e){t.$message.error(e)}))}catch(r){t.$message.error(r.message)}},keyDown:function(e){13===e.keyCode&&this.login("loginForm")}})},P=S,$=(o("f6f0"),Object(s["a"])(P,k,T,!1,null,"5fb08d7e",null)),z=$.exports,N=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{title:"备注",visible:e.dialogForm.dialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.dialogForm,"dialogVisible",t)}}},[o("div",{staticStyle:{height:"700px"}},[o("editor",{staticStyle:{height:"640px"},attrs:{value:e.dialogForm.content},on:{onEditorChange:e.onEditorChange}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveAnalysisContent}},[e._v("保 存")]),o("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogForm.dialogVisible=!1}}},[e._v("关 闭")])],1)]),o("div",{staticClass:"boxmain"},[o("div",[o("div",[o("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"证券代码",size:"mini"},model:{value:e.formData.companyCode,callback:function(t){e.$set(e.formData,"companyCode",t)},expression:"formData.companyCode"}}),o("el-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"委托方向",size:"mini"},on:{change:function(t){return e.search()}},model:{value:e.formData.agentType,callback:function(t){e.$set(e.formData,"agentType",t)},expression:"formData.agentType"}},e._l(e.formData.agentTypeOptions,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),o("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"标签 or",size:"mini"},model:{value:e.formData.tag,callback:function(t){e.$set(e.formData,"tag",t)},expression:"formData.tag"}}),o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(t){return e.search()}}},[e._v("检索")])],1),o("div",[o("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(t){return e.addRow()}}},[e._v("添加")])],1)]),o("div",{staticStyle:{"margin-top":"0px"}},[o("div",{staticStyle:{display:"table",width:"100%","border-collapse":"separate","border-spacing":"0px 10px"}},[o("div",{staticStyle:{display:"table-row"}},[o("div",{staticStyle:{display:"table-cell"}},[o("span",[e._v("共："+e._s(e.total))])])])])]),o("div",[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"font-size":"13px",width:"100%","margin-bottom":"20px"},attrs:{data:e.viewData.gridData,"show-summary":"","summary-method":e.getSummaries,"header-cell-style":function(e){e.row,e.rowIndex;return"background-color:#F5F5F5;text-align:center;"},"cell-style":function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:5px 0px"}},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"index",index:e.indexMethod,width:"40"}}),o("el-table-column",{attrs:{label:"交易时间",prop:"TradeTime",width:"185",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-date-picker",{staticStyle:{width:"175px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:ss:mm",size:"mini"},model:{value:e.rowForm.formData.TradeTime,callback:function(t){e.$set(e.rowForm.formData,"TradeTime",t)},expression:"rowForm.formData.TradeTime"}})],1):o("span",[e._v(e._s(e.commonUtil.formatData(t.row.TradeTime)))])]}}])}),o("el-table-column",{attrs:{label:"证券代码",prop:"CompanyCode",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"证券代码",size:"mini"},model:{value:e.rowForm.formData.CompanyCode,callback:function(t){e.$set(e.rowForm.formData,"CompanyCode",t)},expression:"rowForm.formData.CompanyCode"}})],1):o("span",[o("a",{attrs:{href:"http://quote.eastmoney.com/concept/"+(t.row.TradeMkPlace.indexOf("深圳")>-1?"sz":"sh")+t.row.CompanyCode+".html?from=classic",target:"_blank"}},[e._v(e._s(t.row.CompanyCode))])])]}}])}),o("el-table-column",{attrs:{label:"证券名称",prop:"CompanyName",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"证券名称",size:"mini"},model:{value:e.rowForm.formData.CompanyName,callback:function(t){e.$set(e.rowForm.formData,"CompanyName",t)},expression:"rowForm.formData.CompanyName"}})],1):o("span",[o("el-link",{staticStyle:{"margin-left":"5px"},attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(o){return e.viewDialog(t.row)}}}),t.row.Memo?o("span",[e._v("*")]):e._e(),o("span",[e._v(e._s(t.row.CompanyName))])],1)]}}])}),o("el-table-column",{attrs:{label:"委托方向",prop:"AgentType",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"委托方向",size:"mini"},model:{value:e.rowForm.formData.AgentType,callback:function(t){e.$set(e.rowForm.formData,"AgentType",t)},expression:"rowForm.formData.AgentType"}})],1):o("span",[e._v(e._s(t.row.AgentType))])]}}])}),o("el-table-column",{attrs:{label:"成交数量",prop:"TradeVol",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"成交数量",size:"mini"},model:{value:e.rowForm.formData.TradeVol,callback:function(t){e.$set(e.rowForm.formData,"TradeVol",t)},expression:"rowForm.formData.TradeVol"}})],1):o("span",[e._v(e._s(t.row.TradeVol))])]}}])}),o("el-table-column",{attrs:{label:"成交均价",prop:"TradePriceAverage",width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"成交均价",size:"mini"},model:{value:e.rowForm.formData.TradePriceAverage,callback:function(t){e.$set(e.rowForm.formData,"TradePriceAverage",t)},expression:"rowForm.formData.TradePriceAverage"}})],1):o("span",[e._v(e._s(t.row.TradePriceAverage))])]}}])}),o("el-table-column",{attrs:{label:"成交金额",prop:"TradePrice",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"成交金额",size:"mini"},model:{value:e.rowForm.formData.TradePrice,callback:function(t){e.$set(e.rowForm.formData,"TradePrice",t)},expression:"rowForm.formData.TradePrice"}})],1):o("span",[e._v(e._s(t.row.TradePrice))])]}}])}),o("el-table-column",{attrs:{label:"佣金",prop:"Commission",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"佣金",size:"mini"},model:{value:e.rowForm.formData.Commission,callback:function(t){e.$set(e.rowForm.formData,"Commission",t)},expression:"rowForm.formData.Commission"}})],1):o("span",[e._v(e._s(t.row.Commission))])]}}])}),o("el-table-column",{attrs:{label:"交易规费",prop:"TradeFees",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"交易规费",size:"mini"},model:{value:e.rowForm.formData.TradeFees,callback:function(t){e.$set(e.rowForm.formData,"TradeFees",t)},expression:"rowForm.formData.TradeFees"}})],1):o("span",[e._v(e._s(t.row.TradeFees))])]}}])}),o("el-table-column",{attrs:{label:"印花税",prop:"StampTax",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"印花税",size:"mini"},model:{value:e.rowForm.formData.StampTax,callback:function(t){e.$set(e.rowForm.formData,"StampTax",t)},expression:"rowForm.formData.StampTax"}})],1):o("span",[e._v(e._s(t.row.StampTax))])]}}])}),o("el-table-column",{attrs:{label:"过户费",prop:"TransferFees",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"过户费",size:"mini"},model:{value:e.rowForm.formData.TransferFees,callback:function(t){e.$set(e.rowForm.formData,"TransferFees",t)},expression:"rowForm.formData.TransferFees"}})],1):o("span",[e._v(e._s(t.row.TransferFees))])]}}])}),o("el-table-column",{attrs:{label:"交易市场",prop:"TradeMkPlace",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"交易市场",size:"mini"},model:{value:e.rowForm.formData.TradeMkPlace,callback:function(t){e.$set(e.rowForm.formData,"TradeMkPlace",t)},expression:"rowForm.formData.TradeMkPlace"}})],1):o("span",[e._v(e._s(t.row.TradeMkPlace))])]}}])}),o("el-table-column",{attrs:{label:"标签",prop:"Tag",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{type:"textarea",size:"mini",rows:3,placeholder:"标签"},model:{value:e.rowForm.formData.Tag,callback:function(t){e.$set(e.rowForm.formData,"Tag",t)},expression:"rowForm.formData.Tag"}})],1):o("span",[e._v(e._s(t.row.Tag))])]}}])}),o("el-table-column",{attrs:{label:"",prop:"",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==e.rowForm.type?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(o){return e.editRow(t.row)}}},[e._v("修改")]):e._e(),"1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(o){return e.saveRow(t.row)}}},[e._v("保存")]):e._e(),"1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){return e.cancelRow()}}},[e._v("取消")]):e._e()]}}])},[e._v("> ")])],1)],1),o("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[o("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper",total:e.total,"page-sizes":[20,50,100,200],"page-size":e.pagination.perPageNum,"current-page":e.pagination.curPage},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])],1)},U=[],E=(o("a623"),o("4160"),o("d81d"),o("13d5"),o("a9e3"),o("ac1f"),o("841c"),o("159b"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticStyle:{display:"none"}},[o("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadForm.uploadUrl,data:e.uploadForm.upLoadData,"file-list":e.uploadForm.fileList,"on-success":e.handleUploadSuccess,"before-upload":e.beforeUploadImage,multiple:""}},[o("div",{ref:"elupload"},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)])],1),o("quill-editor",{ref:"myTextEditor",staticStyle:{height:"100%"},attrs:{options:e.options},on:{change:function(t){return e.onEditorChange(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)}),A=[],M=(o("c975"),o("b0c0"),o("a753"),o("8096"),o("14e1"),o("953d")),V=o("f318"),R=o.n(V);o("1b9c");M["Quill"].register("modules/imageResize",R.a);var j={name:"editor",props:{value:String},watch:{value:function(e){this.content=e}},data:function(){return{quill:null,content:this.value,options:{},uploadForm:{dialogVisible:!1,dialogTitle:"上传图片",uploadType:"image",uploadUrl:"/Upload/upload",fileUrl:"",upLoadData:{},fileList:[],fileName:"",showProgress:!1,progress:0}}},created:function(){var e=this,t={theme:"snow",modules:{clipboard:{matchVisual:!1},imageResize:{displayStyles:{backgroundColor:"black",border:"none",color:"white"},modules:["Resize","DisplaySize","Toolbar"]},imagePaste:{addImageBlob:function(t,o){var a=new FormData;a.append("image",t),e.$http.post(e.uploadForm.uploadUrl,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){o(e.data.ResultData.FileUrl)})).catch((function(e){console.log(e)}))}},toolbar:{container:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]],handlers:{image:function(t){console.log("imageClick="+t),e.$refs.elupload.click()},video:function(t){console.log("videoClick="+t),e.$refs.elupload.click()}},placeholder:"Insert text here ..."}}};e.options=t},mounted:function(){},components:{quillEditor:M["quillEditor"]},methods:{onEditorBlur:function(e){console.log("editor blur!",e)},onEditorFocus:function(e){console.log("editor focus!",e)},onEditorReady:function(e){console.log("editor ready!",e)},onEditorChange:function(e){var t=e.html;this.$emit("onEditorChange",t)},beforeUploadImage:function(e){var t=this;if(t.uploadForm.upLoadData={UploadType:"image"},"video"==t.uploadForm.uploadType){if(-1==["video/mp4","video/ogg","video/flv","video/avi","video/wmv","video/rmvb"].indexOf(e.type))return t.$message.error("请上传正确的视频格式！"),!1;var o=e.size/1024/1024<10;if(!o)return t.$message.error("上传视频大小不能超过30MB！"),!1;var a=e.name.length<30;if(!a)return t.$message.error("上传视频文件名称长度必须要小于30个文字！"),!1}if("audio"==t.uploadForm.uploadType){if(-1==["audio/mp3","audio/wav","audio/x-m4a","audio/ogg"].indexOf(e.type))return t.$message.error("请上传正确的音频格式！"),!1;var r=e.size/1024/1024<10;if(!r)return t.$message.error("上传视频大小不能超过30MB哦！"),!1;var n=e.name.length<30;if(!n)return t.$message.error("上传视频文件名称长度必须要小于30个文字！"),!1}},handleUploadSuccess:function(e,t,o){var a=this;if("false"==e.Status)alert(e.ErrMsg);else{t.url=e.ResultData.FileUrl,a.uploadForm.fileList.push(t),a.uploadForm.fileList=o;var r=this.$refs.myTextEditor.quill,n=r.getSelection().index;r.insertEmbed(n,"image",e.ResultData.FileUrl),r.setSelection(n+1)}},uploadOk:function(){}}},O=j,L=Object(s["a"])(O,E,A,!1,null,null,null),H=L.exports,q={name:"tradelog",data:function(){return{fn:"test",posturl:"/TradeLog",loading:!1,viewData:{gridData:[],count:0},formData:{multipleSelection:[],companyCode:"",agentTypeOptions:[{value:"",label:"委托方向(全部)"},{value:"证券买入",label:"买入"},{value:"证券卖出",label:"卖出"}],agentType:"",tag:""},pagination:{perPageNum:20,curPage:1},dialogForm:{dialogVisible:!1,id:"",content:""},rowForm:{type:"0"}}},created:function(){var e=this;e.search(),console.log(e.$store.state)},mounted:function(){window.addEventListener("keydown",this.keyDown)},updated:function(){},components:{editor:H},computed:{UserId:function(){var e=this.$store.state.UserInfo.UserId?this.$store.state.UserInfo.UserId:"";return e},total:function(){var e=this;return Number(e.viewData.count)}},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)},methods:{search:function(){var e=this;try{e.loading=!0;var t={UserId:e.UserId,CurPage:e.pagination.curPage,PerPageNum:e.pagination.perPageNum,CompanyCode:e.formData.companyCode,AgentType:e.formData.agentType,Tag:e.formData.tag};e.$http.post(e.posturl+"/search",t).then((function(t){if("false"==t.data.Status)e.$message.error(t.data.ErrMsg);else{var o=t.data.ResultData;e.viewData.gridData=o.gridData,e.viewData.count=o.count}e.loading=!1})).catch((function(e){console.log(e)}))}catch(o){alert(o.message)}},handleCurrentChange:function(e){var t=this;t.pagination.curPage=e,t.search()},handleSizeChange:function(e){var t=this;t.pagination.perPageNum=e,t.search()},handleSelectionChange:function(e){var t=this;t.formData.multipleSelection=e},viewDialog:function(e){var t=this;t.dialogForm.dialogVisible=!0,t.dialogForm.id=e.Id,t.dialogForm.content=e.Memo,console.log(e.Memo)},handleClose:function(e){e()},onEditorChange:function(e){var t=this;t.dialogForm.content=e},saveAnalysisContent:function(){var e=this;try{console.log(e.dialogForm.content),e.loading=!0;var t={Id:e.dialogForm.id,AnalysisContent:e.dialogForm.content};e.$http.post(e.posturl+"/saveanalysiscontent",t).then((function(t){"false"==t.data.Status?e.$message.error(t.data.ErrMsg):(e.$message.success("保存成功!"),e.search()),e.loading=!1})).catch((function(e){console.log(e)}))}catch(o){alert(o.message)}},indexMethod:function(e){var t=this;return(t.pagination.curPage-1)*t.pagination.perPageNum+e+1},editRow:function(e){var t=this;t.rowForm.type=1,t.rowForm.formData.Id=e.Id,t.rowForm.formData.TradeTime=t.commonUtil.formatData(e.TradeTime),t.rowForm.formData.CompanyCode=e.CompanyCode,t.rowForm.formData.CompanyName=e.CompanyName,t.rowForm.formData.AgentType=e.AgentType,t.rowForm.formData.TradeVol=e.TradeVol,t.rowForm.formData.TradePriceAverage=e.TradePriceAverage,t.rowForm.formData.TradePrice=e.TradePrice,t.rowForm.formData.Commission=e.Commission,t.rowForm.formData.TradeFees=e.TradeFees,t.rowForm.formData.StampTax=e.StampTax,t.rowForm.formData.TransferFees=e.TransferFees,t.rowForm.formData.TradeMkPlace=e.TradeMkPlace,t.rowForm.formData.Tag=e.Tag},saveRow:function(){var e=this;try{e.loading=!0;var t="/saverow",o=e.rowForm.formData;e.$http.post(e.posturl+t,o).then((function(t){"false"==t.data.Status?e.$message.error(t.data.ErrMsg):(e.rowForm.type=0,e.search()),e.loading=!1})).catch((function(e){console.log(e)}))}catch(a){alert(a.message)}},addRow:function(){var e=this;e.viewData.gridData||(e.viewData.gridData=[]),e.viewData.gridData.unshift({Id:"",TradeTime:"",CompanyCode:"",CompanyName:"",AgentType:"",TradeVol:"0",TradePriceAverage:"0",TradePrice:"0",Commission:"0",TradeFees:"0",StampTax:"0",TransferFees:"0",TradeMkPlace:""}),e.rowForm.type=1,e.rowForm.formData.Id="",e.rowForm.formData.UserId=e.UserId},cancelRow:function(){var e=this;e.rowForm.type=0,""==e.rowForm.formData.Id&&e.viewData.gridData.shift()},keyDown:function(e){if(this.dialogForm.dialogVisible)return 83===e.keyCode&&e.ctrlKey?(this.saveAnalysisContent(),event.preventDefault(),event.returnValue=!1,!1):void 0},getSummaries:function(e){var t=this,o=e.columns,a=e.data,r=[];return o.forEach((function(e,o){if(0!==o){if(5==o||o>=7&&o<=11){var n=a.map((function(t){return Number(t[e.property])}));n.every((function(e){return isNaN(e)}))?r[o]="N/A":(r[o]=n.reduce((function(e,t){var o=Number(t);return isNaN(o)?e:e+t}),0),r[o]=5==o?t.commonUtil.formatNumFix(r[o],0):t.commonUtil.formatNumFix(r[o],2))}}else r[o]="计"})),r}}},B=q,K=(o("e6f0"),Object(s["a"])(B,N,U,!1,null,"a403e8e2",null)),W=K.exports,G=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{title:"分析内容",visible:e.dialogForm.dialogVisible,width:"50%","before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.dialogForm,"dialogVisible",t)}}},[o("div",{staticStyle:{height:"700px"}},[o("editor",{staticStyle:{height:"640px"},attrs:{value:e.dialogForm.AnalysisContent},on:{onEditorChange:e.onEditorChange}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveAnalysisContent}},[e._v("保 存")]),o("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogForm.dialogVisible=!1}}},[e._v("关 闭")])],1)]),o("div",{staticClass:"boxmain"},[o("div",[o("div",[o("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"证券代码",size:"mini"},model:{value:e.formData.CompanyCode,callback:function(t){e.$set(e.formData,"CompanyCode",t)},expression:"formData.CompanyCode"}}),o("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"证券名称 or",size:"mini"},model:{value:e.formData.CompanyName,callback:function(t){e.$set(e.formData,"CompanyName",t)},expression:"formData.CompanyName"}}),o("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"标签 and",size:"mini"},model:{value:e.formData.Tag,callback:function(t){e.$set(e.formData,"Tag",t)},expression:"formData.Tag"}}),o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(t){return e.search()}}},[e._v("检索")])],1),o("div",[o("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(t){return e.addRow()}}},[e._v("添加")])],1)]),o("div",{staticStyle:{"margin-top":"0px"}},[o("div",{staticStyle:{display:"table",width:"100%","border-collapse":"separate","border-spacing":"0px 10px"}},[o("div",{staticStyle:{display:"table-row"}},[o("div",{staticStyle:{display:"table-cell"}},[o("span",[e._v("共："+e._s(e.total))])])])])]),o("div",[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"font-size":"13px",width:"100%","margin-bottom":"20px"},attrs:{data:e.viewData.gridData,"header-cell-style":function(e){e.row,e.rowIndex;return"background-color:#F5F5F5;text-align:center;"},"cell-style":function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:5px 0px"},"show-summary":"","summary-method":e.getSummaries},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"index",index:e.indexMethod,width:"40"}}),o("el-table-column",{attrs:{label:"建仓时间",prop:"PositionStartTime",width:"195",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-date-picker",{staticStyle:{width:"175px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:ss:mm",size:"mini"},model:{value:e.rowForm.formData.PositionStartTime,callback:function(t){e.$set(e.rowForm.formData,"PositionStartTime",t)},expression:"rowForm.formData.PositionStartTime"}})],1):o("span",[e._v(e._s(e.commonUtil.formatData(t.row.PositionStartTime)))])]}}])}),o("el-table-column",{attrs:{label:"清仓时间",prop:"PositionEndTime",width:"195",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-date-picker",{staticStyle:{width:"175px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:ss:mm",size:"mini"},model:{value:e.rowForm.formData.PositionEndTime,callback:function(t){e.$set(e.rowForm.formData,"PositionEndTime",t)},expression:"rowForm.formData.PositionEndTime"}})],1):o("span",[e._v(e._s(e.commonUtil.formatData(t.row.PositionEndTime)))])]}}])}),o("el-table-column",{attrs:{label:"证券代码",prop:"CompanyCode",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"证券代码",size:"mini"},model:{value:e.rowForm.formData.CompanyCode,callback:function(t){e.$set(e.rowForm.formData,"CompanyCode",t)},expression:"rowForm.formData.CompanyCode"}})],1):o("span",[o("a",{attrs:{href:"http://quote.eastmoney.com/concept/"+(t.row.TradeMkPlace.indexOf("深圳")>-1?"sz":"sh")+t.row.CompanyCode+".html?from=classic",target:"_blank"}},[e._v(e._s(t.row.CompanyCode))])])]}}])}),o("el-table-column",{attrs:{label:"证券名称",prop:"CompanyName",width:"100",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"证券名称",size:"mini"},model:{value:e.rowForm.formData.CompanyName,callback:function(t){e.$set(e.rowForm.formData,"CompanyName",t)},expression:"rowForm.formData.CompanyName"}})],1):o("span",[o("el-link",{staticStyle:{"margin-left":"5px"},attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(o){return e.viewDialog(t.row)}}}),t.row.AnalysisContent?o("span",[e._v("*")]):e._e(),o("span",[e._v(e._s(t.row.CompanyName))])],1)]}}])}),o("el-table-column",{attrs:{label:"持仓数量",prop:"PositionVol",width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"持仓数量",size:"mini"},model:{value:e.rowForm.formData.PositionVol,callback:function(t){e.$set(e.rowForm.formData,"PositionVol",t)},expression:"rowForm.formData.PositionVol"}})],1):o("span",[e._v(e._s(t.row.PositionVol))])]}}])}),o("el-table-column",{attrs:{label:"成本价格",prop:"CostPrice",width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"成本价格",size:"mini"},model:{value:e.rowForm.formData.CostPrice,callback:function(t){e.$set(e.rowForm.formData,"CostPrice",t)},expression:"rowForm.formData.CostPrice"}})],1):o("span",[e._v(e._s(t.row.CostPrice))])]}}])}),o("el-table-column",{attrs:{label:"当前价格",prop:"CurrentPrice",width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"当前价格",size:"mini"},model:{value:e.rowForm.formData.CurrentPrice,callback:function(t){e.$set(e.rowForm.formData,"CurrentPrice",t)},expression:"rowForm.formData.CurrentPrice"}})],1):o("span",[e._v(e._s(t.row.CurrentPrice))])]}}])}),o("el-table-column",{attrs:{label:"盈亏比例",prop:"",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e.commonUtil.formatNumFix((t.row.CurrentPrice-t.row.CostPrice)/t.row.CostPrice*100,3))+"%")])]}}])}),o("el-table-column",{attrs:{label:"盈亏",prop:"",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e.commonUtil.formatNumFix(t.row.CurrentPrice*t.row.PositionVol-t.row.CostPrice*t.row.PositionVol,0)))])]}}])}),o("el-table-column",{attrs:{label:"当前市值",prop:"",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e.commonUtil.formatNumFix(t.row.CurrentPrice*t.row.PositionVol,2)))])]}}])}),o("el-table-column",{attrs:{label:"交易市场",prop:"TradeMkPlace",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"交易市场",size:"mini"},model:{value:e.rowForm.formData.TradeMkPlace,callback:function(t){e.$set(e.rowForm.formData,"TradeMkPlace",t)},expression:"rowForm.formData.TradeMkPlace"}})],1):o("span",[e._v(e._s(t.row.TradeMkPlace))])]}}])}),o("el-table-column",{attrs:{label:"标签",prop:"Tag",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"标签",size:"mini"},model:{value:e.rowForm.formData.Tag,callback:function(t){e.$set(e.rowForm.formData,"Tag",t)},expression:"rowForm.formData.Tag"}})],1):o("span",[e._v(e._s(t.row.Tag))])]}}])}),o("el-table-column",{attrs:{label:"",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==e.rowForm.type?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(o){return e.editRow(t.row)}}},[e._v("修改")]):e._e(),"1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(o){return e.saveRow(t.row)}}},[e._v("保存")]):e._e(),"1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){return e.cancelRow()}}},[e._v("取消")]):e._e()]}}])})],1)],1),o("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[o("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper",total:e.total,"page-sizes":[20,50,100,200],"page-size":e.pagination.perPageNum,"current-page":e.pagination.curPage},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])],1)},J=[],Q=(o("b680"),{name:"PositionAnalysis",data:function(){return{fn:"test",posturl:"/PositionAnalysis",loading:!1,viewData:{gridData:[],count:0},formData:{multipleSelection:[],CompanyCode:"",CompanyName:"",Tag:"持仓"},pagination:{perPageNum:20,curPage:1},dialogForm:{dialogVisible:!1,Id:"",AnalysisContent:""},rowForm:{type:"0",formData:{Id:"",PositionStartTime:"",PositionEndTime:"",CompanyCode:"",CompanyName:"",PositionVol:"",CostPrice:"",CurrentPrice:"",TradeMkPlace:"",Tag:""}}}},created:function(){var e=this;e.search()},mounted:function(){window.addEventListener("keydown",this.keyDown)},updated:function(){},components:{editor:H},computed:{total:function(){var e=this;return Number(e.viewData.count)},UserId:function(){var e=this.$store.state.UserInfo.UserId?this.$store.state.UserInfo.UserId:"";return e}},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)},methods:{search:function(){var e=this;try{console.log("UserId="+e.UserId),e.loading=!0;var t={CurPage:e.pagination.curPage,PerPageNum:e.pagination.perPageNum,CompanyCode:e.formData.CompanyCode,CompanyName:e.formData.CompanyName,Tag:e.formData.Tag,UserId:e.UserId};e.$http.post(e.posturl+"/search",t).then((function(t){if("false"==t.data.Status)e.$message.error(t.data.ErrMsg);else{var o=t.data.ResultData;e.viewData.gridData=o.GridData,e.viewData.count=o.Count}e.loading=!1})).catch((function(e){console.log(e)}))}catch(o){alert(o.message)}},handleCurrentChange:function(e){var t=this;t.pagination.curPage=e,t.search()},handleSizeChange:function(e){var t=this;t.pagination.perPageNum=e,t.search()},handleSelectionChange:function(e){var t=this;t.formData.multipleSelection=e},viewDialog:function(e){var t=this;t.dialogForm.Id=e.Id,t.dialogForm.AnalysisContent=e.AnalysisContent,t.dialogForm.dialogVisible=!0},handleClose:function(e){e()},onEditorChange:function(e){var t=this;t.dialogForm.AnalysisContent=e},saveAnalysisContent:function(){var e=this;try{e.loading=!0;var t={Id:e.dialogForm.Id,AnalysisContent:e.dialogForm.AnalysisContent};e.$http.post(e.posturl+"/saveanlysiscontent",t).then((function(t){"false"==t.data.Status?e.$message.error(t.data.ErrMsg):(e.$message.success("保存成功!"),e.search()),e.loading=!1})).catch((function(e){console.log(e)}))}catch(o){alert(o.message)}},indexMethod:function(e){var t=this;return(t.pagination.curPage-1)*t.pagination.perPageNum+e+1},editRow:function(e){var t=this;t.rowForm.type=1,t.rowForm.formData.Id=e.Id,t.rowForm.formData.PositionStartTime=t.commonUtil.formatData(e.PositionStartTime),t.rowForm.formData.PositionEndTime=t.commonUtil.formatData(e.PositionEndTime),t.rowForm.formData.CompanyCode=e.CompanyCode,t.rowForm.formData.CompanyName=e.CompanyName,t.rowForm.formData.PositionVol=e.PositionVol,t.rowForm.formData.CostPrice=e.CostPrice,t.rowForm.formData.CurrentPrice=e.CurrentPrice,t.rowForm.formData.TradeMkPlace=e.TradeMkPlace,t.rowForm.formData.Tag=e.Tag},saveRow:function(){var e=this;try{e.loading=!0;var t="/saverow",o=e.rowForm.formData;e.$http.post(e.posturl+t,o).then((function(t){"false"==t.data.Status?e.$message.error(t.data.ErrMsg):(e.rowForm.type=0,e.search()),e.loading=!1})).catch((function(e){console.log(e)}))}catch(a){alert(a.message)}},addRow:function(){var e=this;e.viewData.gridData||(e.viewData.gridData=[]),e.viewData.gridData.unshift({Id:"",PositionStartTime:"",PositionEndTime:"",CompanyCode:"",CompanyName:"",PositionVol:"",CostPrice:"",CurrentPrice:"",TradeMkPlace:"",Tag:""}),e.rowForm.type=1,e.rowForm.formData.Id="",e.rowForm.formData.UserId=e.UserId},cancelRow:function(){var e=this;e.rowForm.type=0,""==e.rowForm.formData.Id&&e.viewData.gridData.shift()},keyDown:function(e){if(this.dialogForm.dialogVisible)return 83===e.keyCode&&e.ctrlKey?(this.saveAnalysisContent(),event.preventDefault(),event.returnValue=!1,!1):void 0},getSummaries:function(e){var t=e.columns,o=e.data,a=[];return t.forEach((function(e,t){if(0!==t){if(5==t||9==t||10==t){var r=[];r=9==t?o.map((function(e){return Number(e["CurrentPrice"]*e["PositionVol"]-e["CostPrice"]*e["PositionVol"])})):10==t?o.map((function(e){return Number(e["CurrentPrice"]*e["PositionVol"])})):o.map((function(t){return Number(t[e.property])})),r.every((function(e){return isNaN(e)}))?a[t]="N/A":(a[t]=r.reduce((function(e,t){var o=Number(t);return isNaN(o)?e:e+t}),0),9!=t&&10!=t||(a[t]=a[t].toFixed(0)))}}else a[t]="计"})),a}}}),Y=Q,X=(o("657f"),Object(s["a"])(Y,G,J,!1,null,"8dcd4708",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{title:"分析内容",visible:e.dialogForm.dialogVisible,width:"50%","before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.dialogForm,"dialogVisible",t)}}},[o("div",{staticStyle:{"text-align":"left"},attrs:{slot:"title"},slot:"title"},[o("div",[e._v("公司摘要")]),o("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px solid #E0E0E0"}})]),o("div",{staticStyle:{height:"700px"}},[o("editor",{staticStyle:{height:"640px"},attrs:{value:e.dialogForm.Description},on:{onEditorChange:e.onEditorChange}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveDescription}},[e._v("保 存")]),o("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogForm.dialogVisible=!1}}},[e._v("关 闭")])],1)]),o("div",{staticClass:"boxmain"},[o("div",[o("div",[o("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"证券代码",size:"mini"},model:{value:e.formData.CompanyCode,callback:function(t){e.$set(e.formData,"CompanyCode",t)},expression:"formData.CompanyCode"}}),o("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"证券名称 or",size:"mini"},model:{value:e.formData.CompanyName,callback:function(t){e.$set(e.formData,"CompanyName",t)},expression:"formData.CompanyName"}}),o("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"概念/标签 and",size:"mini"},model:{value:e.formData.Tag,callback:function(t){e.$set(e.formData,"Tag",t)},expression:"formData.Tag"}}),o("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"控股公司 or",size:"mini"},model:{value:e.formData.HoldCompanyName,callback:function(t){e.$set(e.formData,"HoldCompanyName",t)},expression:"formData.HoldCompanyName"}}),o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(t){return e.search()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()}}},[e._v("检索")])],1),o("div",[o("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(t){return e.addRow()}}},[e._v("添加")])],1)]),o("div",{staticStyle:{"margin-top":"0px"}},[o("div",{staticStyle:{display:"table",width:"100%","border-collapse":"separate","border-spacing":"0px 10px"}},[o("div",{staticStyle:{display:"table-row"}},[o("div",{staticStyle:{display:"table-cell"}},[o("span",[e._v("共："+e._s(e.total))])])])])]),o("div",[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"font-size":"13px",width:"100%","margin-bottom":"20px"},attrs:{data:e.viewData.gridData,"header-cell-style":function(e){e.row,e.rowIndex;return"background-color:#F5F5F5;text-align:center;"},"cell-style":function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:0px 0px"}},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"index",index:e.indexMethod,width:"40"}}),o("el-table-column",{attrs:{label:"证券代码",prop:"CompanyCode",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"证券代码",size:"mini"},model:{value:e.rowForm.formData.CompanyCode,callback:function(t){e.$set(e.rowForm.formData,"CompanyCode",t)},expression:"rowForm.formData.CompanyCode"}})],1):o("span",[o("a",{attrs:{href:"http://quote.eastmoney.com/concept/"+(t.row.CompanyType?t.row.CompanyType:"sz")+t.row.CompanyCode+".html?from=classic",target:"_blank"}},[e._v(e._s(t.row.CompanyCode))])])]}}])}),o("el-table-column",{attrs:{label:"证券名称",prop:"CompanyName",width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"证券名称",size:"mini"},model:{value:e.rowForm.formData.CompanyName,callback:function(t){e.$set(e.rowForm.formData,"CompanyName",t)},expression:"rowForm.formData.CompanyName"}})],1):o("span",[o("el-link",{staticStyle:{"margin-left":"5px"},attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(o){return e.viewDialog(t.row)}}}),t.row.Description?o("span",[e._v("*")]):e._e(),o("span",[e._v(e._s(t.row.CompanyName))])],1)]}}])}),o("el-table-column",{attrs:{label:"证券类型",prop:"CompanyType",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"证券类型",size:"mini"},model:{value:e.rowForm.formData.CompanyType,callback:function(t){e.$set(e.rowForm.formData,"CompanyType",t)},expression:"rowForm.formData.CompanyType"}})],1):o("span",[e._v(e._s(t.row.CompanyType))])]}}])}),o("el-table-column",{attrs:{label:"控股公司",prop:"HoldCompanyName",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"控股公司",size:"mini"},model:{value:e.rowForm.formData.HoldCompanyName,callback:function(t){e.$set(e.rowForm.formData,"HoldCompanyName",t)},expression:"rowForm.formData.HoldCompanyName"}})],1):o("span",[e._v(e._s(t.row.HoldCompanyName))])]}}])}),o("el-table-column",{attrs:{label:"概念/标签",prop:"Tag",width:"350",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{type:"textarea",size:"mini",rows:4,placeholder:"概念/标签"},model:{value:e.rowForm.formData.Tag,callback:function(t){e.$set(e.rowForm.formData,"Tag",t)},expression:"rowForm.formData.Tag"}})],1):o("span",[e._v(e._s(t.row.Tag))])]}}])}),o("el-table-column",{attrs:{label:"",prop:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==e.rowForm.type?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(o){return e.editRow(t.row)}}},[e._v("修改")]):e._e(),"1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(o){return e.saveRow(t.row)}}},[e._v("保存")]):e._e(),"1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){return e.cancelRow()}}},[e._v("取消")]):e._e()]}}])},[e._v("> ")])],1)],1),o("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[o("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper",total:e.total,"page-sizes":[20,50,100,200],"page-size":e.pagination.perPageNum,"current-page":e.pagination.curPage},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])],1)},te=[],oe={name:"Company",data:function(){return{fn:"test",posturl:"/Company",loading:!1,viewData:{gridData:[],count:0},formData:{multipleSelection:[],CompanyCode:"",CompanyName:"",Tag:"",HoldCompanyName:""},pagination:{perPageNum:20,curPage:1},dialogForm:{dialogVisible:!1,Id:"",Description:""},rowForm:{type:"0",formData:{Id:"",CompanyCode:"",CompanyName:"",CompanyType:"",HoldCompanyName:"",Tag:""}}}},created:function(){var e=this;e.search()},mounted:function(){window.addEventListener("keydown",this.keyDown)},updated:function(){},components:{editor:H},computed:{total:function(){var e=this;return Number(e.viewData.count)},UserId:function(){var e=this.$store.state.UserInfo.UserId?this.$store.state.UserInfo.UserId:"";return e}},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)},methods:{search:function(){var e=this;try{e.loading=!0;var t={CurPage:e.pagination.curPage,PerPageNum:e.pagination.perPageNum,CompanyCode:e.formData.CompanyCode,CompanyName:e.formData.CompanyName,Tag:e.formData.Tag,HoldCompanyName:e.formData.HoldCompanyName,UserId:e.UserId};e.$http.post(e.posturl+"/search",t).then((function(t){if("false"==t.data.Status)e.$message.error(t.data.ErrMsg);else{var o=t.data.ResultData;e.viewData.gridData=o.GridData,e.viewData.count=o.Count}e.loading=!1})).catch((function(e){console.log(e)}))}catch(o){alert(o.message)}},handleCurrentChange:function(e){var t=this;t.pagination.curPage=e,t.search()},handleSizeChange:function(e){var t=this;t.pagination.perPageNum=e,t.search()},handleSelectionChange:function(e){var t=this;t.formData.multipleSelection=e},viewDialog:function(e){var t=this;t.dialogForm.Id=e.Id,t.dialogForm.Description=e.Description,t.dialogForm.dialogVisible=!0},editRow:function(e){var t=this;t.rowForm.type=1,t.rowForm.formData.Id=e.Id,t.rowForm.formData.CompanyCode=e.CompanyCode,t.rowForm.formData.CompanyName=e.CompanyName,t.rowForm.formData.CompanyType=e.CompanyType,t.rowForm.formData.HoldCompanyName=e.HoldCompanyName,t.rowForm.formData.Tag=e.Tag},handleClose:function(e){e()},onEditorChange:function(e){var t=this;t.dialogForm.Description=e},saveDescription:function(){var e=this;try{e.loading=!0;var t={Id:e.dialogForm.Id,Description:e.dialogForm.Description};e.$http.post(e.posturl+"/savedescription",t).then((function(t){"false"==t.data.Status?e.$message.error(t.data.ErrMsg):(e.$message.success("保存成功!"),e.search()),e.loading=!1})).catch((function(e){console.log(e)}))}catch(o){alert(o.message)}},indexMethod:function(e){var t=this;return(t.pagination.curPage-1)*t.pagination.perPageNum+e+1},saveRow:function(){var e=this;try{e.loading=!0;var t="/saverow",o=e.rowForm.formData;e.$http.post(e.posturl+t,o).then((function(t){"false"==t.data.Status?e.$message.error(t.data.ErrMsg):(e.rowForm.type=0,e.search()),e.loading=!1})).catch((function(e){console.log(e)}))}catch(a){alert(a.message)}},addRow:function(){var e=this;e.viewData.gridData||(e.viewData.gridData=[]),e.viewData.gridData.unshift({Id:"",CompanyCode:"",CompanyName:"",CompanyType:"",HoldCompanyName:"",Tag:""}),e.rowForm.type=1,e.rowForm.formData.Id="",e.rowForm.formData.UserId=e.UserId},cancelRow:function(){var e=this;e.rowForm.type=0,""==e.rowForm.formData.Id&&e.viewData.gridData.shift()},keyDown:function(e){if(this.dialogForm.dialogVisible)return 83===e.keyCode&&e.ctrlKey?(this.saveDescription(),event.preventDefault(),event.returnValue=!1,!1):void 0}}},ae=oe,re=(o("035c"),Object(s["a"])(ae,ee,te,!1,null,"0ae6e1d5",null)),ne=re.exports,ie=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{title:"文章内容",visible:e.dialogForm.dialogVisible,width:"50%","before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.dialogForm,"dialogVisible",t)}}},[o("div",{staticStyle:{"text-align":"left"},attrs:{slot:"title"},slot:"title"},[o("div",[e._v("文章内容")]),o("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px solid #E0E0E0"}})]),o("div",{staticStyle:{height:"700px"}},[o("editor",{staticStyle:{height:"640px"},attrs:{value:e.dialogForm.ArtContent},on:{onEditorChange:e.onEditorChange}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveArtContent}},[e._v("保 存")]),o("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogForm.dialogVisible=!1}}},[e._v("关 闭")])],1)]),o("div",{staticClass:"boxmain"},[o("div",[o("div",[o("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"标题 and",size:"mini"},model:{value:e.formData.ArtTitle,callback:function(t){e.$set(e.formData,"ArtTitle",t)},expression:"formData.ArtTitle"}}),o("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"标签 and",size:"mini"},model:{value:e.formData.Tag,callback:function(t){e.$set(e.formData,"Tag",t)},expression:"formData.Tag"}}),o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(t){return e.search()}}},[e._v("检索")])],1),o("div",[o("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(t){return e.addRow()}}},[e._v("添加")])],1)]),o("div",{staticStyle:{"margin-top":"0px"}},[o("div",{staticStyle:{display:"table",width:"100%","border-collapse":"separate","border-spacing":"0px 10px"}},[o("div",{staticStyle:{display:"table-row"}},[o("div",{staticStyle:{display:"table-cell"}},[o("span",[e._v("共："+e._s(e.total))])])])])]),o("div",[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"font-size":"13px",width:"100%","margin-bottom":"20px"},attrs:{data:e.viewData.gridData,"header-cell-style":function(e){e.row,e.rowIndex;return"background-color:#F5F5F5;text-align:center;"},"cell-style":function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:5px 0px"}},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"index",index:e.indexMethod,width:"40"}}),o("el-table-column",{attrs:{label:"标题",prop:"ArtTitle",width:"500",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"标题",size:"mini"},model:{value:e.rowForm.formData.ArtTitle,callback:function(t){e.$set(e.rowForm.formData,"ArtTitle",t)},expression:"rowForm.formData.ArtTitle"}})],1):o("span",[o("el-link",{staticStyle:{"margin-left":"5px"},attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(o){return e.viewDialog(t.row)}}}),t.row.ArtContent?o("span",[e._v("*")]):e._e(),e._v(" "+e._s(t.row.ArtTitle)+" ")],1)]}}])}),o("el-table-column",{attrs:{label:"标签",prop:"Tag",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("span",[o("el-input",{attrs:{placeholder:"标签",size:"mini"},model:{value:e.rowForm.formData.Tag,callback:function(t){e.$set(e.rowForm.formData,"Tag",t)},expression:"rowForm.formData.Tag"}})],1):o("span",[e._v(e._s(t.row.Tag))])]}}])}),o("el-table-column",{attrs:{label:"",prop:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==e.rowForm.type?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(o){return e.editRow(t.row)}}},[e._v("修改")]):e._e(),"0"==e.rowForm.type?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(o){return e.delRow(t.row)}}},[e._v("删除")]):e._e(),"1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(o){return e.saveRow(t.row)}}},[e._v("保存")]):e._e(),"1"==e.rowForm.type&&e.rowForm.formData.Id==t.row.Id?o("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){return e.cancelRow()}}},[e._v("取消")]):e._e()]}}])},[e._v("> ")])],1)],1),o("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[o("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper",total:e.total,"page-sizes":[20,50,100,200],"page-size":e.pagination.perPageNum,"current-page":e.pagination.curPage},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])],1)},le=[],se=(o("96cf"),o("1da1")),ce={name:"stockart",data:function(){return{fn:"stockart",posturl:"/StockArt",loading:!1,viewData:{gridData:[],count:0},formData:{multipleSelection:[],ArtTitle:"",Tag:""},pagination:{perPageNum:20,curPage:1},dialogForm:{dialogVisible:!1,Id:"",ArtContent:""},rowForm:{type:"0",formData:{Id:"",ArtTitle:"",ArtContent:"",Tag:""}}}},created:function(){var e=this;e.search()},mounted:function(){window.addEventListener("keydown",this.keyDown)},updated:function(){},components:{editor:H},computed:{total:function(){var e=this;return Number(e.viewData.count)},UserId:function(){var e=this.$store.state.UserInfo.UserId?this.$store.state.UserInfo.UserId:"";return e}},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)},methods:{search:function(){var e=this;try{e.loading=!0;var t={CurPage:e.pagination.curPage,PerPageNum:e.pagination.perPageNum,ArtTitle:e.formData.ArtTitle,Tag:e.formData.Tag,UserId:e.UserId};e.$http.post(e.posturl+"/search",t).then((function(t){if("false"==t.data.Status)e.$message.error(t.data.ErrMsg);else{var o=t.data.ResultData;e.viewData.gridData=o.gridData,e.viewData.count=o.count}e.loading=!1})).catch((function(e){console.log(e)}))}catch(o){alert(o.message)}},handleCurrentChange:function(e){var t=this;t.pagination.curPage=e,t.search()},handleSizeChange:function(e){var t=this;t.pagination.perPageNum=e,t.search()},handleSelectionChange:function(e){var t=this;t.formData.multipleSelection=e},viewDialog:function(e){var t=this;t.dialogForm.dialogVisible=!0,t.dialogForm.Id=e.Id,t.dialogForm.ArtContent=e.ArtContent},handleClose:function(e){e()},onEditorChange:function(e){var t=this;t.dialogForm.ArtContent=e},saveArtContent:function(){var e=this;try{e.loading=!0;var t={Id:e.dialogForm.Id,ArtContent:e.dialogForm.ArtContent};e.$http.post(e.posturl+"/saveartcontent",t).then((function(t){"false"==t.data.Status?e.$message.error(t.data.ErrMsg):(e.$message.success("保存成功!"),e.search()),e.loading=!1})).catch((function(e){console.log(e)}))}catch(o){alert(o.message)}},indexMethod:function(e){var t=this;return(t.pagination.curPage-1)*t.pagination.perPageNum+e+1},editRow:function(e){var t=this;t.rowForm.type=1,t.rowForm.formData.Id=e.Id,t.rowForm.formData.ArtTitle=e.ArtTitle,t.rowForm.formData.Tag=e.Tag},saveRow:function(){var e=this;try{e.loading=!0;var t="/saverow",o=e.rowForm.formData;e.$http.post(e.posturl+t,o).then((function(t){"false"==t.data.Status?e.$message.error(t.data.ErrMsg):(e.rowForm.type=0,e.search()),e.loading=!1})).catch((function(e){console.log(e)}))}catch(a){alert(a.message)}},addRow:function(){var e=this;e.viewData.gridData||(e.viewData.gridData=[]),e.viewData.gridData.unshift({Id:"",ArtTitle:"",Tag:""}),e.rowForm.type=1,e.rowForm.formData.Id="",e.rowForm.formData.UserId=e.UserId},cancelRow:function(){var e=this;e.rowForm.type=0,""==e.rowForm.formData.Id&&e.viewData.gridData.shift()},keyDown:function(e){if(this.dialogForm.dialogVisible)return 83===e.keyCode&&e.ctrlKey?(this.saveArtContent(),event.preventDefault(),event.returnValue=!1,!1):void 0},delRow:function(e){var t=this;return Object(se["a"])(regeneratorRuntime.mark((function o(){var a,r,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=t,o.prev=1,r=!1,o.next=5,a.$confirm("确认删除？").then((function(){r=!0})).catch((function(){}));case 5:if(r){o.next=7;break}return o.abrupt("return");case 7:a.loading=!0,n={Id:e.Id},a.$http.post(a.posturl+"/delete",n).then((function(e){"false"==e.data.Status?a.$message.error(e.data.ErrMsg):(a.$message.success("删除成功!"),a.search()),a.loading=!1})).catch((function(e){console.log(e)})),o.next=15;break;case 12:o.prev=12,o.t0=o["catch"](1),alert(o.t0.message);case 15:case"end":return o.stop()}}),o,null,[[1,12]])})))()}}},me=ce,de=(o("a0f5"),Object(s["a"])(me,ie,le,!1,null,"a5c775f2",null)),ue=de.exports,pe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[o("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.userForm.rules,"label-width":"80px"}},[o("h3",{staticClass:"login-title"},[e._v("个人设置")]),o("el-form-item",{attrs:{label:"账号",prop:"username"}},[o("el-input",{staticStyle:{width:"100px"},attrs:{type:"text",placeholder:"请输入账号"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save("loginForm")}}},[e._v("保存")])],1)],1)],1)},fe=[],ge={name:"userset",data:function(){return{fn:"userset",posturl:"/UserSet",loading:!1,userForm:{username:"",password:"",rules:{username:[{required:!0,message:"账号不可为空",trigger:"blur"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}]}}}},created:function(){},mounted:function(){},updated:function(){},components:{},computed:{UserId:function(){var e=this.$store.state.UserInfo.UserId?this.$store.state.UserInfo.UserId:"";return e}},methods:{login:function(e){var t=this;try{var o=!0;if(t.$refs[e].validate((function(e){e||(t.$message.warning("请输入用户名和密码!"),o=!1)})),!o)return;t.loading=!0;var a={username:t.userForm.username,password:t.userForm.password};t.$http.post(t.posturl,a).then((function(e){if("false"==e.data.Status)t.$message.error(e.data.ErrMsg);else{console.log(e.data);var o=e.data.ResultData,a="Bearer "+o.Token,r=o.UserId;t.changeLogin({Authorization:a,UserInfo:{UserId:r,UserName:t.loginForm.username}}),t.$message.success("登录成功!"),t.$router.push({path:"/stockart"})}t.loading=!1})).catch((function(e){t.$message.error(e)}))}catch(r){t.$message.error(r.message)}}}},he=ge,we=(o("d80b"),Object(s["a"])(he,pe,fe,!1,null,"380b4f00",null)),ve=we.exports;a["default"].use(p["a"]);var ye=[{path:"/",name:"Home",component:x},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}},{path:"/login",name:"Login",component:z},{path:"/tradelog",name:"TradeLog",component:W},{path:"/positionanalysis",name:"PositionAnalysis",component:Z},{path:"/company",name:"Company",component:ne},{path:"/stockart",name:"StockArt",component:ue},{path:"/userset",name:"UserSet",component:ve}],be=new p["a"]({routes:ye});be.beforeEach((function(e,t,o){if("/login"===e.path)o();else{var a=localStorage.getItem("Authorization");null===a||""===a?o("/login"):o()}}));var Fe=be,De=(o("5319"),{formatData:function(e){return e?e.replace("T"," "):""},formatNumFix:function(e,t){var o=e.toFixed(t);return o}}),Ce=De,_e=o("bc3a"),xe=o.n(_e),ke=o("5c96"),Te=o.n(ke);o("0fae");a["default"].prototype.commonUtil=Ce,a["default"].use(Te.a),a["default"].prototype.$http=xe.a,xe.a.interceptors.request.use((function(e){return localStorage.getItem("Authorization")&&(e.headers.Authorization=localStorage.getItem("Authorization")),e}),(function(e){return Promise.reject(e)})),xe.a.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&(alert("登录已过期!请重新登录!"),localStorage.removeItem("Authorization"),Fe.push("/login")),Promise.reject(e)})),a["default"].config.productionTip=!1,new a["default"]({store:u,router:Fe,render:function(e){return e(m)}}).$mount("#app")},"657f":function(e,t,o){"use strict";var a=o("dff6"),r=o.n(a);r.a},"85ec":function(e,t,o){},"8ce0":function(e,t,o){},a0f5:function(e,t,o){"use strict";var a=o("c5a0"),r=o.n(a);r.a},aa2b:function(e,t,o){},c4dc:function(e,t,o){},c5a0:function(e,t,o){},cf05:function(e,t,o){e.exports=o.p+"img/logo.82b9c7a5.png"},d7bb:function(e,t,o){},d80b:function(e,t,o){"use strict";var a=o("d7bb"),r=o.n(a);r.a},dff6:function(e,t,o){},e6f0:function(e,t,o){"use strict";var a=o("2de5"),r=o.n(a);r.a},f6f0:function(e,t,o){"use strict";var a=o("c4dc"),r=o.n(a);r.a}});
//# sourceMappingURL=app.b99ce00b.js.map