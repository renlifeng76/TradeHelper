(function(t){function e(e){for(var o,i,l=e[0],s=e[1],c=e[2],d=0,m=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(o=!1)}o&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var o={},r={app:0},n=[];function i(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"41c2f88f"}[t]+".js"}function l(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,o){a=r[t]=[e,o]}));e.push(a[2]=o);var n,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=i(t);var c=new Error;n=function(e){s.onerror=s.onload=null,clearTimeout(d);var a=r[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",c.name="ChunkLoadError",c.type=o,c.request=n,a[1](c)}r[t]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:s})}),12e4);s.onerror=s.onload=n,document.head.appendChild(s)}return Promise.all(e)},l.m=t,l.c=o,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(a,o,function(e){return t[e]}.bind(null,o));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("85ec"),r=a.n(o);r.a},"152d":function(t,e,a){},1569:function(t,e,a){"use strict";var o=a("d17f"),r=a.n(o);r.a},"1b9c":function(t,e,a){"use strict";(function(t){a("d3b7"),a("ac1f"),a("466d");var e=a("d4ec"),o=a("ade3"),r=function t(a){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(e["a"])(this,t),Object(o["a"])(this,"handlePaste",(function(t){var e,a,o,n=t.clipboardData;if(n&&(e=n.items,e)){a=e[0],o=n.types||[];for(var i=0;i<o.length;i++)if("Files"===o[i]){a=e[i];break}if(a&&"file"===a.kind&&a.type.match(/^image\//i)){t.preventDefault();var l=a.getAsFile(),s=r.config.addImageBlob;s&&"[object Function]"==={}.toString.call(s)?s(l,r.insertImg):r.toBase64(l)}}})),Object(o["a"])(this,"toBase64",(function(t){var e=new FileReader;e.onload=function(t){r.insertImg(t.target.result)},e.readAsDataURL(t)})),Object(o["a"])(this,"insertImg",(function(t){var e=(r.quill.getSelection()||{}).index||r.quill.getLength()-1;r.quill.insertEmbed(e,"image",t,"user"),setTimeout((function(){r.quill.setSelection(e+1)}),0)})),this.quill=a,this.config=n,a.root.addEventListener("paste",this.handlePaste,!1)};t&&t.register("modules/imagePaste",r)}).call(this,a("9339"))},"23bf":function(t,e,a){"use strict";var o=a("a38d"),r=a.n(o);r.a},4805:function(t,e,a){"use strict";var o=a("8ce0"),r=a.n(o);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("d3b7"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),a("router-link",{attrs:{to:"/about"}},[t._v("About")]),t._v(" | "),a("router-link",{attrs:{to:"/login"}},[t._v("登录页")]),t._v(" | "),a("router-link",{attrs:{to:"/test"}},[t._v("测试页")]),t._v(" | "),a("router-link",{attrs:{to:"/company"}},[t._v("上市公司")]),t._v(" | "),a("router-link",{attrs:{to:"/positionanalysis"}},[t._v("持仓分析")]),t._v(" | "),a("router-link",{attrs:{to:"/tradelog"}},[t._v("交易日志")])],1),a("router-view")],1)},n=[],i=(a("034f"),a("2877")),l={},s=Object(i["a"])(l,r,n,!1,null,null,null),c=s.exports,d=a("2f62");o["default"].use(d["a"]);var u=new d["a"].Store({state:{Authorization:localStorage.getItem("Authorization")?localStorage.getItem("Authorization"):""},mutations:{changeLogin:function(t,e){t.Authorization=e.Authorization,localStorage.setItem("Authorization",e.Authorization)}},actions:{},modules:{}}),m=a("8c4f"),p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("img",{attrs:{alt:"Vue logo",src:a("cf05")}}),o("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},g=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._m(0),a("h3",[t._v("Installed CLI Plugins")]),t._m(1),a("h3",[t._v("Essential Links")]),t._m(2),a("h3",[t._v("Ecosystem")]),t._m(3)])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" For a guide and recipes on how to configure / customize this project,"),a("br"),t._v(" check out the "),a("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(". ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[t._v("eslint")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),a("li",[a("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),a("li",[a("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),a("li",[a("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],h={name:"HelloWorld",props:{msg:String}},y=h,b=(a("4805"),Object(i["a"])(y,f,v,!1,null,"b9167eee",null)),w=b.exports,F={name:"Home",components:{HelloWorld:w}},C=F,_=Object(i["a"])(C,p,g,!1,null,null,null),D=_.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-form",{ref:"loginForm",staticClass:"login-box",attrs:{model:t.loginForm,rules:t.loginForm.rules,"label-width":"80px"}},[a("h3",{staticClass:"login-title"},[t._v("欢迎登录")]),a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入账号"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.login("loginForm")}}},[t._v("登录")])],1)],1)],1)},x=[],P=a("5530"),k={name:"login",data:function(){return{fn:"login",posturl:"http://www.rlf99.com/api/Authentication/requestToken",loading:!1,loginForm:{username:"",password:"",rules:{username:[{required:!0,message:"账号不可为空",trigger:"blur"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}]}}}},created:function(){},mounted:function(){},updated:function(){},components:{},computed:{},methods:Object(P["a"])({},Object(d["b"])(["changeLogin"]),{login:function(t){var e=this;try{var a=!0;if(e.$refs[t].validate((function(t){t||(e.$message.warning("请输入用户名和密码!"),a=!1)})),!a)return;e.loading=!0;var o={username:e.loginForm.username,password:e.loginForm.password};e.$http.post(e.posturl,o).then((function(t){if("false"==t.data.status)e.$message.error(t.data.errMsg);else{console.log(t.data);var a="Bearer "+t.data;e.changeLogin({Authorization:a}),e.$message.success("登录成功!"),e.loading=!1}})).catch((function(t){e.$message.error(t)}))}catch(r){e.$message.error(r.message)}}})},T=k,z=(a("1569"),Object(i["a"])(T,S,x,!1,null,"3ee07828",null)),$=z.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"width:300px"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getdata()}}},[t._v("取得数据")])],1)])},I=[],N={name:"login",data:function(){return{fn:"test",posturl:"http://localhost:5000/Test/postTest",loading:!1,loginForm:{username:"",password:""}}},created:function(){},mounted:function(){},updated:function(){},components:{},computed:{},methods:{getdata:function(){var t=this;try{t.loading=!0;var e={username:"1",password:"2"};t.$http.post(t.posturl,e).then((function(e){"false"==e.data.status?t.$message.error(e.data.errMsg):console.log(e.data),t.loading=!1})).catch((function(t){console.log(t)}))}catch(a){alert(a.message)}}}},E=N,A=Object(i["a"])(E,U,I,!1,null,"1d48a071",null),M=A.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"备注",visible:t.dialogForm.dialogVisible,width:"50%","before-close":t.handleClose},on:{"update:visible":function(e){return t.$set(t.dialogForm,"dialogVisible",e)}}},[a("div",{staticStyle:{height:"700px"}},[a("editor",{staticStyle:{height:"640px"},attrs:{value:t.dialogForm.content},on:{onEditorChange:t.onEditorChange}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogForm.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveMemo}},[t._v("确 定")])],1)]),a("div",{staticClass:"boxmain"},[a("div",[a("div",[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"证券代码",size:"mini"},model:{value:t.formData.companyCode,callback:function(e){t.$set(t.formData,"companyCode",e)},expression:"formData.companyCode"}}),a("el-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"委托方向",size:"mini"},on:{change:function(e){return t.search()}},model:{value:t.formData.agentType,callback:function(e){t.$set(t.formData,"agentType",e)},expression:"formData.agentType"}},t._l(t.formData.agentTypeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"标签 or",size:"mini"},model:{value:t.formData.tag,callback:function(e){t.$set(t.formData,"tag",e)},expression:"formData.tag"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(e){return t.search()}}},[t._v("检索")])],1),a("div",[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(e){return t.addRow()}}},[t._v("添加")])],1)]),a("div",{staticStyle:{"margin-top":"0px"}},[a("div",{staticStyle:{display:"table",width:"100%","border-collapse":"separate","border-spacing":"0px 10px"}},[a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell"}},[a("span",[t._v("共："+t._s(t.total))])])])])]),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"font-size":"13px",width:"100%","margin-bottom":"20px"},attrs:{data:t.viewData.gridData,"show-summary":"","summary-method":t.getSummaries,"header-cell-style":function(t){t.row,t.rowIndex;return"background-color:#F5F5F5;text-align:center;"},"cell-style":function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"padding:5px 0px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",index:t.indexMethod,width:"40"}}),a("el-table-column",{attrs:{label:"交易时间",prop:"TradeTime",width:"185",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-date-picker",{staticStyle:{width:"175px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:ss:mm",size:"mini"},model:{value:t.rowForm.formData.TradeTime,callback:function(e){t.$set(t.rowForm.formData,"TradeTime",e)},expression:"rowForm.formData.TradeTime"}})],1):a("span",[t._v(t._s(t.commonUtil.formatData(e.row.TradeTime)))])]}}])}),a("el-table-column",{attrs:{label:"证券代码",prop:"CompanyCode",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{placeholder:"证券代码",size:"mini"},model:{value:t.rowForm.formData.CompanyCode,callback:function(e){t.$set(t.rowForm.formData,"CompanyCode",e)},expression:"rowForm.formData.CompanyCode"}})],1):a("span",[t._v(t._s(e.row.CompanyCode))])]}}])}),a("el-table-column",{attrs:{label:"证券名称",prop:"CompanyName",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{placeholder:"证券名称",size:"mini"},model:{value:t.rowForm.formData.CompanyName,callback:function(e){t.$set(t.rowForm.formData,"CompanyName",e)},expression:"rowForm.formData.CompanyName"}})],1):a("span",[a("el-link",{staticStyle:{"margin-left":"5px"},attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(a){return t.viewDialog(e.row)}}}),e.row.Memo?a("span",[t._v("*")]):t._e(),a("span",[t._v(t._s(e.row.CompanyName))])],1)]}}])}),a("el-table-column",{attrs:{label:"委托方向",prop:"AgentType",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{placeholder:"委托方向",size:"mini"},model:{value:t.rowForm.formData.AgentType,callback:function(e){t.$set(t.rowForm.formData,"AgentType",e)},expression:"rowForm.formData.AgentType"}})],1):a("span",[t._v(t._s(e.row.AgentType))])]}}])}),a("el-table-column",{attrs:{label:"委托数量",prop:"AgentVol",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"委托状态",prop:"AgentStatus",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"委托价格",prop:"AgentPrice",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{placeholder:"委托价格",size:"mini"},model:{value:t.rowForm.formData.AgentPrice,callback:function(e){t.$set(t.rowForm.formData,"AgentPrice",e)},expression:"rowForm.formData.AgentPrice"}})],1):a("span",[t._v(t._s(e.row.AgentPrice))])]}}])}),a("el-table-column",{attrs:{label:"成交数量",prop:"TradeVol",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{placeholder:"成交数量",size:"mini"},model:{value:t.rowForm.formData.TradeVol,callback:function(e){t.$set(t.rowForm.formData,"TradeVol",e)},expression:"rowForm.formData.TradeVol"}})],1):a("span",[t._v(t._s(e.row.TradeVol))])]}}])}),a("el-table-column",{attrs:{label:"成交金额",prop:"TradePrice",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{placeholder:"成交金额",size:"mini"},model:{value:t.rowForm.formData.TradePrice,callback:function(e){t.$set(t.rowForm.formData,"TradePrice",e)},expression:"rowForm.formData.TradePrice"}})],1):a("span",[t._v(t._s(e.row.TradePrice))])]}}])}),a("el-table-column",{attrs:{label:"成交均价",prop:"TradePriceAverage",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"交易市场",prop:"TradeMkPlace",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{placeholder:"交易市场",size:"mini"},model:{value:t.rowForm.formData.TradeMkPlace,callback:function(e){t.$set(t.rowForm.formData,"TradeMkPlace",e)},expression:"rowForm.formData.TradeMkPlace"}})],1):a("span",[t._v(t._s(e.row.TradeMkPlace))])]}}])}),a("el-table-column",{attrs:{label:"标签",prop:"Tag",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{type:"textarea",size:"mini",rows:3,placeholder:"标签"},model:{value:t.rowForm.formData.Tag,callback:function(e){t.$set(t.rowForm.formData,"Tag",e)},expression:"rowForm.formData.Tag"}})],1):a("span",[t._v(t._s(e.row.Tag))])]}}])}),a("el-table-column",{attrs:{label:"",prop:"",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==t.rowForm.type?a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return t.editRow(e.row)}}},[t._v("修改")]):t._e(),"1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return t.saveRow(e.row)}}},[t._v("保存")]):t._e(),"1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){return t.cancelRow()}}},[t._v("取消")]):t._e()]}}])},[t._v("> ")])],1)],1),a("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[a("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper",total:t.total,"page-sizes":[20,50,100,200],"page-size":t.pagination.perPageNum,"current-page":t.pagination.curPage},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])],1)},j=[],O=(a("a623"),a("4160"),a("d81d"),a("13d5"),a("a9e3"),a("ac1f"),a("841c"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{display:"none"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadForm.uploadUrl,data:t.uploadForm.upLoadData,"file-list":t.uploadForm.fileList,"on-success":t.handleUploadSuccess,"before-upload":t.beforeUploadImage,multiple:""}},[a("div",{ref:"elupload"},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)])],1),a("quill-editor",{ref:"myTextEditor",staticStyle:{height:"100%"},attrs:{options:t.options},on:{change:function(e){return t.onEditorChange(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)}),R=[],L=(a("c975"),a("b0c0"),a("a753"),a("8096"),a("14e1"),a("953d")),H=a("f318"),q=a.n(H);a("1b9c");L["Quill"].register("modules/imageResize",q.a);var B={name:"editor",props:{value:String},watch:{value:function(t){this.content=t}},data:function(){return{quill:null,content:this.value,options:{},uploadForm:{dialogVisible:!1,dialogTitle:"上传图片",uploadType:"image",uploadUrl:"/Upload/upload",fileUrl:"",upLoadData:{},fileList:[],fileName:"",showProgress:!1,progress:0}}},created:function(){var t=this,e={theme:"snow",modules:{imageResize:{displayStyles:{backgroundColor:"black",border:"none",color:"white"},modules:["Resize","DisplaySize","Toolbar"]},imagePaste:{addImageBlob:function(e,a){var o=new FormData;o.append("image",e),t.$http.post(t.uploadForm.uploadUrl,o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){a(t.data.ResultData.FileUrl)})).catch((function(t){console.log(t)}))}},toolbar:{container:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]],handlers:{image:function(e){console.log("imageClick="+e),t.$refs.elupload.click()},video:function(e){console.log("videoClick="+e),t.$refs.elupload.click()}},placeholder:"Insert text here ..."}}};t.options=e},mounted:function(){},components:{quillEditor:L["quillEditor"]},methods:{onEditorBlur:function(t){console.log("editor blur!",t)},onEditorFocus:function(t){console.log("editor focus!",t)},onEditorReady:function(t){console.log("editor ready!",t)},onEditorChange:function(t){var e=t.html;this.$emit("onEditorChange",e)},beforeUploadImage:function(t){var e=this;if(e.uploadForm.upLoadData={UploadType:"image"},"video"==e.uploadForm.uploadType){if(-1==["video/mp4","video/ogg","video/flv","video/avi","video/wmv","video/rmvb"].indexOf(t.type))return e.$message.error("请上传正确的视频格式！"),!1;var a=t.size/1024/1024<10;if(!a)return e.$message.error("上传视频大小不能超过30MB！"),!1;var o=t.name.length<30;if(!o)return e.$message.error("上传视频文件名称长度必须要小于30个文字！"),!1}if("audio"==e.uploadForm.uploadType){if(-1==["audio/mp3","audio/wav","audio/x-m4a","audio/ogg"].indexOf(t.type))return e.$message.error("请上传正确的音频格式！"),!1;var r=t.size/1024/1024<10;if(!r)return e.$message.error("上传视频大小不能超过30MB哦！"),!1;var n=t.name.length<30;if(!n)return e.$message.error("上传视频文件名称长度必须要小于30个文字！"),!1}},handleUploadSuccess:function(t,e,a){var o=this;if("false"==t.Status)alert(t.ErrMsg);else{e.url=t.ResultData.FileUrl,o.uploadForm.fileList.push(e),o.uploadForm.fileList=a;var r=this.$refs.myTextEditor.quill,n=r.getSelection().index;r.insertEmbed(n,"image",t.ResultData.FileUrl),r.setSelection(n+1)}},uploadOk:function(){}}},W=B,G=Object(i["a"])(W,O,R,!1,null,null,null),J=G.exports,Q={name:"tradelog",data:function(){return{fn:"test",posturl:"/TradeLog",loading:!1,viewData:{gridData:[],count:0},formData:{multipleSelection:[],companyCode:"",agentTypeOptions:[{value:"",label:"委托方向(全部)"},{value:"证券买入",label:"买入"},{value:"证券卖出",label:"卖出"}],agentType:"",tag:"定投"},pagination:{perPageNum:20,curPage:1},dialogForm:{dialogVisible:!1,id:"",content:""},rowForm:{type:"0",formData:{Id:"",TradeTime:"",CompanyCode:"",CompanyName:"",AgentType:"",AgentPrice:"",TradeVol:"",TradePrice:"",TradeMkPlace:"",Tag:""}}}},created:function(){var t=this;t.search()},mounted:function(){},updated:function(){},components:{editor:J},computed:{total:function(){var t=this;return Number(t.viewData.count)}},methods:{search:function(){var t=this;try{t.loading=!0;var e={CurPage:t.pagination.curPage,PerPageNum:t.pagination.perPageNum,CompanyCode:t.formData.companyCode,AgentType:t.formData.agentType,Tag:t.formData.tag};t.$http.post(t.posturl+"/search",e).then((function(e){if("false"==e.data.Status)t.$message.error(e.data.ErrMsg);else{var a=e.data.ResultData;t.viewData.gridData=a.gridData,t.viewData.count=a.count}t.loading=!1})).catch((function(t){console.log(t)}))}catch(a){alert(a.message)}},handleCurrentChange:function(t){var e=this;e.pagination.curPage=t,e.search()},handleSizeChange:function(t){var e=this;e.pagination.perPageNum=t,e.search()},handleSelectionChange:function(t){var e=this;e.formData.multipleSelection=t},viewDialog:function(t){var e=this;e.dialogForm.dialogVisible=!0,e.dialogForm.id=t.Id,e.dialogForm.content=t.Memo,console.log(t.Memo)},handleClose:function(t){this.$confirm("确认关闭？").then((function(){t()})).catch((function(){}))},onEditorChange:function(t){var e=this;e.dialogForm.content=t},saveMemo:function(){var t=this;try{console.log(t.dialogForm.content),t.loading=!0;var e={Id:t.dialogForm.id,Memo:t.dialogForm.content};t.$http.post(t.posturl+"/savememo",e).then((function(e){"false"==e.data.Status?t.$message.error(e.data.ErrMsg):(t.search(),t.dialogForm.dialogVisible=!1),t.loading=!1})).catch((function(t){console.log(t)}))}catch(a){alert(a.message)}},indexMethod:function(t){var e=this;return(e.pagination.curPage-1)*e.pagination.perPageNum+t+1},editRow:function(t){var e=this;e.rowForm.type=1,e.rowForm.formData.Id=t.Id,e.rowForm.formData.TradeTime=e.commonUtil.formatData(t.TradeTime),e.rowForm.formData.CompanyCode=t.CompanyCode,e.rowForm.formData.CompanyName=t.CompanyName,e.rowForm.formData.AgentType=t.AgentType,e.rowForm.formData.TradePrice=t.TradePrice,e.rowForm.formData.TradeVol=t.TradeVol,e.rowForm.formData.TradePrice=t.TradePrice,e.rowForm.formData.TradeMkPlace=t.TradeMkPlace,e.rowForm.formData.Tag=t.Tag},saveRow:function(){var t=this;try{t.loading=!0;var e="/saverow",a=t.rowForm.formData;t.$http.post(t.posturl+e,a).then((function(e){"false"==e.data.Status?t.$message.error(e.data.ErrMsg):(t.rowForm.type=0,t.search()),t.loading=!1})).catch((function(t){console.log(t)}))}catch(o){alert(o.message)}},addRow:function(){var t=this;t.viewData.gridData||(t.viewData.gridData=[]),t.viewData.gridData.unshift({Id:"",TradeTime:"",CompanyCode:"",CompanyName:"",AgentType:"",TradeVol:"",TradePrice:"",TradeMkPlace:""}),t.rowForm.type=1,t.rowForm.formData.Id=""},cancelRow:function(){var t=this;t.rowForm.type=0,""==t.rowForm.formData.Id&&t.viewData.gridData.shift()},getSummaries:function(t){var e=this,a=t.columns,o=t.data,r=[];return a.forEach((function(t,a){if(0!==a){if(8==a||9==a){var n=o.map((function(e){return Number(e[t.property])}));n.every((function(t){return isNaN(t)}))?r[a]="N/A":(r[a]=n.reduce((function(t,e){var a=Number(e);return isNaN(a)?t:t+e}),0),r[a]=e.commonUtil.formatNumFix(r[a],2),9==a&&(r[a]+=" 元"))}}else r[a]="计"})),r}}},Y=Q,K=(a("63e5"),Object(i["a"])(Y,V,j,!1,null,"17418724",null)),X=K.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"分析内容",visible:t.dialogForm.dialogVisible,width:"50%","before-close":t.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialogForm,"dialogVisible",e)}}},[a("div",{staticStyle:{height:"700px"}},[a("editor",{staticStyle:{height:"640px"},attrs:{value:t.dialogForm.AnalysisContent},on:{onEditorChange:t.onEditorChange}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogForm.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveAnalysisContent}},[t._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"添加/修改",visible:t.dialogFormUpd.dialogVisible,width:"30%","before-close":t.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialogFormUpd,"dialogVisible",e)}}},[a("div",{staticStyle:{"text-align":"left"},attrs:{slot:"title"},slot:"title"},[a("div",[t._v(t._s("1"==t.dialogFormUpd.type?"添加":"修改"))]),a("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px solid #E0E0E0"}})]),a("div",{staticStyle:{display:"table",width:"100%","border-collapse":"separate","border-spacing":"5px 10px","text-align":"left","margin-left":"20px"}},[a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell","vertical-align":"top"}},[t._v("持仓状态")]),a("div",{staticStyle:{display:"table-cell"}},[a("span",[a("el-select",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请选择"},model:{value:t.dialogFormUpd.PositionStatus,callback:function(e){t.$set(t.dialogFormUpd,"PositionStatus",e)},expression:"dialogFormUpd.PositionStatus"}},t._l(t.dialogFormUpd.PositionStatusOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])]),a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell","vertical-align":"top"}},[t._v("建仓时间")]),a("div",{staticStyle:{display:"table-cell"}},[a("span",[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:ss:mm",size:"small"},model:{value:t.dialogFormUpd.PositionStartTime,callback:function(e){t.$set(t.dialogFormUpd,"PositionStartTime",e)},expression:"dialogFormUpd.PositionStartTime"}})],1)])]),a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell","vertical-align":"top"}},[t._v("清仓时间")]),a("div",{staticStyle:{display:"table-cell"}},[a("span",[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:ss:mm",size:"small"},model:{value:t.dialogFormUpd.PositionEndTime,callback:function(e){t.$set(t.dialogFormUpd,"PositionEndTime",e)},expression:"dialogFormUpd.PositionEndTime"}})],1)])]),a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell","vertical-align":"top"}},[t._v("证券代码")]),a("div",{staticStyle:{display:"table-cell"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"证券代码",size:"small"},model:{value:t.dialogFormUpd.CompanyCode,callback:function(e){t.$set(t.dialogFormUpd,"CompanyCode",e)},expression:"dialogFormUpd.CompanyCode"}})],1)]),a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell","vertical-align":"top"}},[t._v("证券名称")]),a("div",{staticStyle:{display:"table-cell"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"证券名称",size:"small"},model:{value:t.dialogFormUpd.CompanyName,callback:function(e){t.$set(t.dialogFormUpd,"CompanyName",e)},expression:"dialogFormUpd.CompanyName"}})],1)]),a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell","vertical-align":"top"}},[t._v("持仓数量")]),a("div",{staticStyle:{display:"table-cell"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"持仓数量",size:"small"},model:{value:t.dialogFormUpd.PositionVol,callback:function(e){t.$set(t.dialogFormUpd,"PositionVol",e)},expression:"dialogFormUpd.PositionVol"}})],1)]),a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell","vertical-align":"top"}},[t._v("成本价格")]),a("div",{staticStyle:{display:"table-cell"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"成本价格",size:"small"},model:{value:t.dialogFormUpd.CostPrice,callback:function(e){t.$set(t.dialogFormUpd,"CostPrice",e)},expression:"dialogFormUpd.CostPrice"}})],1)]),a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell","vertical-align":"top"}},[t._v("当前价格")]),a("div",{staticStyle:{display:"table-cell"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"当前价格",size:"small"},model:{value:t.dialogFormUpd.CurrentPrice,callback:function(e){t.$set(t.dialogFormUpd,"CurrentPrice",e)},expression:"dialogFormUpd.CurrentPrice"}})],1)]),a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell","vertical-align":"top"}},[t._v("交易市场")]),a("div",{staticStyle:{display:"table-cell"}},[a("span",[a("el-select",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"请选择"},model:{value:t.dialogFormUpd.TradeMkPlace,callback:function(e){t.$set(t.dialogFormUpd,"TradeMkPlace",e)},expression:"dialogFormUpd.TradeMkPlace"}},t._l(t.dialogFormUpd.TradeMkPlaceOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogFormUpd.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.savePositionAnalysis}},[t._v("确 定")])],1)]),a("div",{staticClass:"boxmain"},[a("div",[a("div",[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"证券代码",size:"mini"},model:{value:t.formData.CompanyCode,callback:function(e){t.$set(t.formData,"CompanyCode",e)},expression:"formData.CompanyCode"}}),a("el-select",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"持仓状态",size:"mini"},on:{change:function(e){return t.search()}},model:{value:t.formData.PositionStatus,callback:function(e){t.$set(t.formData,"PositionStatus",e)},expression:"formData.PositionStatus"}},t._l(t.formData.PositionStatusOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(e){return t.search()}}},[t._v("检索")])],1),a("div",[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(e){return t.viewDialogUpd(1,null)}}},[t._v("添加")])],1)]),a("div",{staticStyle:{"margin-top":"0px"}},[a("div",{staticStyle:{display:"table",width:"100%","border-collapse":"separate","border-spacing":"0px 10px"}},[a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell"}},[a("span",[t._v("共："+t._s(t.total))])])])])]),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"font-size":"13px",width:"100%","margin-bottom":"20px"},attrs:{data:t.viewData.gridData,"header-cell-style":function(t){t.row,t.rowIndex;return"background-color:#F5F5F5;text-align:center;"},"cell-style":function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"padding:0px 0px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",index:t.indexMethod,width:"40"}}),a("el-table-column",{attrs:{label:"注",prop:"",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(a){return t.viewDialog(e.row)}}}),e.row.AnalysisContent?a("span",[t._v("*")]):t._e()]}}])}),""==t.formData.PositionStatus?a("el-table-column",{attrs:{label:"持仓状态",prop:"PositionStatus",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.PositionStatus?a("span",[t._v("持仓中")]):t._e(),"2"==e.row.PositionStatus?a("span",[t._v("已清仓")]):t._e()]}}],null,!1,476365292)}):t._e(),a("el-table-column",{attrs:{label:"建仓时间",prop:"PositionStartTime",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.commonUtil.formatData(e.row.PositionStartTime)))])]}}])}),a("el-table-column",{attrs:{label:"清仓时间",prop:"PositionEndTime",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.commonUtil.formatData(e.row.PositionEndTime)))])]}}])}),a("el-table-column",{attrs:{label:"证券代码",prop:"CompanyCode",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"证券名称",prop:"CompanyName",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"持仓数量",prop:"PositionVol",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"成本价格",prop:"CostPrice",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"当前价格",prop:"CurrentPrice",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"盈亏比例",prop:"",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.commonUtil.formatNumFix((e.row.CurrentPrice-e.row.CostPrice)/e.row.CostPrice*100,3))+"%")])]}}])}),a("el-table-column",{attrs:{label:"盈亏",prop:"",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.commonUtil.formatNumFix(e.row.CurrentPrice*e.row.PositionVol-e.row.CostPrice*e.row.PositionVol,0)))])]}}])}),a("el-table-column",{attrs:{label:"当前市值",prop:"",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.commonUtil.formatNumFix(e.row.CurrentPrice*e.row.PositionVol,0)))])]}}])}),a("el-table-column",{attrs:{label:"交易市场",prop:"TradeMkPlace",width:"100",align:"center"}}),a("el-table-column",{attrs:{label:"",prop:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(a){return t.viewDialogUpd(2,e.row)}}},[t._v("修改")])]}}])})],1)],1),a("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[a("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper",total:t.total,"page-sizes":[20,50,100,200],"page-size":t.pagination.perPageNum,"current-page":t.pagination.curPage},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])],1)},tt=[],et={name:"PositionAnalysis",data:function(){return{fn:"test",posturl:"/PositionAnalysis",loading:!1,viewData:{gridData:[],count:0},formData:{multipleSelection:[],CompanyCode:"",PositionStatusOptions:[{value:"",label:"持仓(全部)"},{value:"1",label:"持仓中"},{value:"2",label:"已清仓"}],PositionStatus:"1"},pagination:{perPageNum:20,curPage:1},dialogForm:{dialogVisible:!1,Id:"",AnalysisContent:""},dialogFormUpd:{dialogVisible:!1,type:"1",Id:"",PositionStatusOptions:[{value:1,label:"持仓中"},{value:2,label:"已清仓"}],PositionStatus:1,PositionStartTime:"",PositionEndTime:"",CompanyCode:"",CompanyName:"",PositionVol:"",CostPrice:"",CurrentPrice:"",TradeMkPlaceOptions:[{value:"深圳A股",label:"深圳A股"},{value:"上海A股",label:"上海A股"},{value:"基金",label:"基金"}],TradeMkPlace:""}}},created:function(){var t=this;t.search()},mounted:function(){},updated:function(){},components:{editor:J},computed:{total:function(){var t=this;return Number(t.viewData.count)}},methods:{search:function(){var t=this;try{t.loading=!0;var e={CurPage:t.pagination.curPage,PerPageNum:t.pagination.perPageNum,CompanyCode:t.formData.CompanyCode,PositionStatus:t.formData.PositionStatus};t.$http.post(t.posturl+"/search",e).then((function(e){if("false"==e.data.Status)t.$message.error(e.data.ErrMsg);else{var a=e.data.ResultData;t.viewData.gridData=a.GridData,t.viewData.count=a.Count}t.loading=!1})).catch((function(t){console.log(t)}))}catch(a){alert(a.message)}},handleCurrentChange:function(t){var e=this;e.pagination.curPage=t,e.search()},handleSizeChange:function(t){var e=this;e.pagination.perPageNum=t,e.search()},handleSelectionChange:function(t){var e=this;e.formData.multipleSelection=t},viewDialog:function(t){var e=this;e.dialogForm.Id=t.Id,e.dialogForm.AnalysisContent=t.AnalysisContent,e.dialogForm.dialogVisible=!0},viewDialogUpd:function(t,e){var a=this;a.dialogFormUpd.type=t,a.dialogFormUpd.PositionStatus=1,a.dialogFormUpd.PositionStartTime="",a.dialogFormUpd.PositionEndTime="",a.dialogFormUpd.CompanyCode="",a.dialogFormUpd.CompanyName="",a.dialogFormUpd.PositionVol="",a.dialogFormUpd.CostPrice="",a.dialogFormUpd.CurrentPrice="",a.dialogFormUpd.TradeMkPlace="","2"==a.dialogFormUpd.type&&(a.dialogFormUpd.Id=e.Id,a.dialogFormUpd.PositionStatus=e.PositionStatus,a.dialogFormUpd.PositionStartTime=a.commonUtil.formatData(e.PositionStartTime),a.dialogFormUpd.PositionEndTime=a.commonUtil.formatData(e.PositionEndTime),a.dialogFormUpd.CompanyCode=e.CompanyCode,a.dialogFormUpd.CompanyName=e.CompanyName,a.dialogFormUpd.PositionVol=e.PositionVol,a.dialogFormUpd.CostPrice=e.CostPrice,a.dialogFormUpd.CurrentPrice=e.CurrentPrice,a.dialogFormUpd.TradeMkPlace=e.TradeMkPlace),a.dialogFormUpd.dialogVisible=!0},handleClose:function(t){this.$confirm("确认关闭？").then((function(){t()})).catch((function(){}))},onEditorChange:function(t){var e=this;e.dialogForm.AnalysisContent=t},saveAnalysisContent:function(){var t=this;try{t.loading=!0;var e={Id:t.dialogForm.Id,AnalysisContent:t.dialogForm.AnalysisContent};t.$http.post(t.posturl+"/saveanlysiscontent",e).then((function(e){"false"==e.data.Status?t.$message.error(e.data.ErrMsg):(t.search(),t.dialogForm.dialogVisible=!1),t.loading=!1})).catch((function(t){console.log(t)}))}catch(a){alert(a.message)}},indexMethod:function(t){var e=this;return(e.pagination.curPage-1)*e.pagination.perPageNum+t+1},savePositionAnalysis:function(){var t=this;try{t.loading=!0;var e="1"==t.dialogFormUpd.type?"/add":"/update",a=t.dialogFormUpd;t.$http.post(t.posturl+e,a).then((function(e){"false"==e.data.Status?t.$message.error(e.data.ErrMsg):(t.search(),t.dialogFormUpd.dialogVisible=!1),t.loading=!1})).catch((function(t){console.log(t)}))}catch(o){alert(o.message)}}}},at=et,ot=(a("23bf"),Object(i["a"])(at,Z,tt,!1,null,"3592e29f",null)),rt=ot.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"分析内容",visible:t.dialogForm.dialogVisible,width:"50%","before-close":t.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialogForm,"dialogVisible",e)}}},[a("div",{staticStyle:{"text-align":"left"},attrs:{slot:"title"},slot:"title"},[a("div",[t._v("公司摘要")]),a("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px solid #E0E0E0"}})]),a("div",{staticStyle:{height:"700px"}},[a("editor",{staticStyle:{height:"640px"},attrs:{value:t.dialogForm.AnalysisContent},on:{onEditorChange:t.onEditorChange}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogForm.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveDescription}},[t._v("确 定")])],1)]),a("div",{staticClass:"boxmain"},[a("div",[a("div",[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"证券代码",size:"mini"},model:{value:t.formData.CompanyCode,callback:function(e){t.$set(t.formData,"CompanyCode",e)},expression:"formData.CompanyCode"}}),a("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"证券名称 or",size:"mini"},model:{value:t.formData.CompanyName,callback:function(e){t.$set(t.formData,"CompanyName",e)},expression:"formData.CompanyName"}}),a("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"概念/标签 and",size:"mini"},model:{value:t.formData.Tag,callback:function(e){t.$set(t.formData,"Tag",e)},expression:"formData.Tag"}}),a("el-input",{staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"控股公司 or",size:"mini"},model:{value:t.formData.HoldCompanyName,callback:function(e){t.$set(t.formData,"HoldCompanyName",e)},expression:"formData.HoldCompanyName"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(e){return t.search()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()}}},[t._v("检索")])],1),a("div",[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"info",size:"mini"},on:{click:function(e){return t.viewDialogUpd(1,null)}}},[t._v("添加")])],1)]),a("div",{staticStyle:{"margin-top":"0px"}},[a("div",{staticStyle:{display:"table",width:"100%","border-collapse":"separate","border-spacing":"0px 10px"}},[a("div",{staticStyle:{display:"table-row"}},[a("div",{staticStyle:{display:"table-cell"}},[a("span",[t._v("共："+t._s(t.total))])])])])]),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"font-size":"13px",width:"100%","margin-bottom":"20px"},attrs:{data:t.viewData.gridData,"header-cell-style":function(t){t.row,t.rowIndex;return"background-color:#F5F5F5;text-align:center;"},"cell-style":function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"padding:0px 0px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",index:t.indexMethod,width:"40"}}),a("el-table-column",{attrs:{label:"上市时间",prop:"LaunchDate",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.commonUtil.formatData(e.row.LaunchDate)))])]}}])}),a("el-table-column",{attrs:{label:"证券代码",prop:"CompanyCode",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{placeholder:"证券代码",size:"mini"},model:{value:t.rowForm.formData.CompanyCode,callback:function(e){t.$set(t.rowForm.formData,"CompanyCode",e)},expression:"rowForm.formData.CompanyCode"}})],1):a("span",[t._v(t._s(e.row.CompanyCode))])]}}])}),a("el-table-column",{attrs:{label:"证券名称",prop:"CompanyName",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{placeholder:"证券名称",size:"mini"},model:{value:t.rowForm.formData.CompanyName,callback:function(e){t.$set(t.rowForm.formData,"CompanyName",e)},expression:"rowForm.formData.CompanyName"}})],1):a("span",[a("span",[t._v(t._s(e.row.CompanyName))]),a("el-link",{staticStyle:{"margin-left":"5px"},attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(a){return t.viewDialog(e.row)}}}),e.row.Description?a("span",[t._v("*")]):t._e()],1)]}}])}),a("el-table-column",{attrs:{label:"证券类型",prop:"CompanyType",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"控股公司",prop:"HoldCompanyName",width:"150",align:"center"}}),a("el-table-column",{attrs:{label:"概念/标签",prop:"Tag",width:"350",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("span",[a("el-input",{attrs:{type:"textarea",size:"mini",rows:4,placeholder:"概念/标签"},model:{value:t.rowForm.formData.Tag,callback:function(e){t.$set(t.rowForm.formData,"Tag",e)},expression:"rowForm.formData.Tag"}})],1):a("span",[t._v(t._s(e.row.Tag))])]}}])}),a("el-table-column",{attrs:{label:"",prop:"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==t.rowForm.type?a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return t.editRow(e.row)}}},[t._v("修改")]):t._e(),"1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return t.saveRow(e.row)}}},[t._v("保存")]):t._e(),"1"==t.rowForm.type&&t.rowForm.formData.Id==e.row.Id?a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.rowForm.type="0"}}},[t._v("取消")]):t._e()]}}])},[t._v("> ")])],1)],1),a("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[a("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper",total:t.total,"page-sizes":[20,50,100,200],"page-size":t.pagination.perPageNum,"current-page":t.pagination.curPage},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])],1)},it=[],lt={name:"Company",data:function(){return{fn:"test",posturl:"/Company",loading:!1,viewData:{gridData:[],count:0},formData:{multipleSelection:[],CompanyCode:"",CompanyName:"",Tag:"",HoldCompanyName:""},pagination:{perPageNum:20,curPage:1},dialogForm:{dialogVisible:!1,Id:"",AnalysisContent:""},rowForm:{type:"0",formData:{Id:"",CompanyCode:"",CompanyName:"",Tag:""}}}},created:function(){var t=this;t.search()},mounted:function(){},updated:function(){},components:{editor:J},computed:{total:function(){var t=this;return Number(t.viewData.count)}},methods:{search:function(){var t=this;try{t.loading=!0;var e={CurPage:t.pagination.curPage,PerPageNum:t.pagination.perPageNum,CompanyCode:t.formData.CompanyCode,CompanyName:t.formData.CompanyName,Tag:t.formData.Tag,HoldCompanyName:t.formData.HoldCompanyName};t.$http.post(t.posturl+"/search",e).then((function(e){if("false"==e.data.Status)t.$message.error(e.data.ErrMsg);else{var a=e.data.ResultData;t.viewData.gridData=a.GridData,t.viewData.count=a.Count}t.loading=!1})).catch((function(t){console.log(t)}))}catch(a){alert(a.message)}},handleCurrentChange:function(t){var e=this;e.pagination.curPage=t,e.search()},handleSizeChange:function(t){var e=this;e.pagination.perPageNum=t,e.search()},handleSelectionChange:function(t){var e=this;e.formData.multipleSelection=t},viewDialog:function(t){var e=this;e.dialogForm.Id=t.Id,e.dialogForm.Description=t.Description,e.dialogForm.dialogVisible=!0},editRow:function(t){var e=this;e.rowForm.type=1,e.rowForm.formData.Id=t.Id,e.rowForm.formData.CompanyCode=t.CompanyCode,e.rowForm.formData.CompanyName=t.CompanyName,e.rowForm.formData.Tag=t.Tag},handleClose:function(t){this.$confirm("确认关闭？").then((function(){t()})).catch((function(){}))},onEditorChange:function(t){var e=this;e.dialogForm.AnalysisContent=t},saveDescription:function(){var t=this;try{t.loading=!0;var e={Id:t.dialogForm.Id,Description:t.dialogForm.Description};t.$http.post(t.posturl+"/savedescription",e).then((function(e){"false"==e.data.Status?t.$message.error(e.data.ErrMsg):(t.search(),t.dialogForm.dialogVisible=!1),t.loading=!1})).catch((function(t){console.log(t)}))}catch(a){alert(a.message)}},indexMethod:function(t){var e=this;return(e.pagination.curPage-1)*e.pagination.perPageNum+t+1},saveRow:function(){var t=this;try{t.loading=!0;var e="/saverow",a=t.rowForm.formData;t.$http.post(t.posturl+e,a).then((function(e){"false"==e.data.Status?t.$message.error(e.data.ErrMsg):(t.rowForm.type=0,t.search()),t.loading=!1})).catch((function(t){console.log(t)}))}catch(o){alert(o.message)}}}},st=lt,ct=(a("bbd5"),Object(i["a"])(st,nt,it,!1,null,"a6ff54d2",null)),dt=ct.exports;o["default"].use(m["a"]);var ut=[{path:"/",name:"Home",component:D},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/login",name:"Login",component:$},{path:"/test",name:"test",component:M},{path:"/tradelog",name:"TradeLog",component:X},{path:"/positionanalysis",name:"PositionAnalysis",component:rt},{path:"/company",name:"Company",component:dt}],mt=new m["a"]({routes:ut});mt.beforeEach((function(t,e,a){if("/login"===t.path)a();else{var o=localStorage.getItem("Authorization");null===o||""===o?a("/login"):a()}}));var pt=mt,gt=(a("b680"),a("5319"),{formatData:function(t){return t?t.replace("T"," "):""},formatNumFix:function(t,e){var a=t.toFixed(e);return a}}),ft=gt,vt=a("bc3a"),ht=a.n(vt),yt=a("5c96"),bt=a.n(yt);a("0fae");o["default"].prototype.commonUtil=ft,o["default"].use(bt.a),o["default"].prototype.$http=ht.a,ht.a.interceptors.request.use((function(t){return localStorage.getItem("Authorization")&&(t.headers.Authorization=localStorage.getItem("Authorization")),t}),(function(t){return Promise.reject(t)})),ht.a.interceptors.response.use((function(t){return t}),(function(t){return 401===t.response.status&&(alert("登录已过期!请重新登录!"),localStorage.removeItem("Authorization"),pt.push("/login")),Promise.reject(t)})),o["default"].config.productionTip=!1,new o["default"]({store:u,router:pt,render:function(t){return t(c)}}).$mount("#app")},"63e5":function(t,e,a){"use strict";var o=a("152d"),r=a.n(o);r.a},"85ec":function(t,e,a){},"8ce0":function(t,e,a){},a38d:function(t,e,a){},bbd5:function(t,e,a){"use strict";var o=a("deb2"),r=a.n(o);r.a},cf05:function(t,e,a){t.exports=a.p+"img/logo.82b9c7a5.png"},d17f:function(t,e,a){},deb2:function(t,e,a){}});
//# sourceMappingURL=app.cc837a11.js.map